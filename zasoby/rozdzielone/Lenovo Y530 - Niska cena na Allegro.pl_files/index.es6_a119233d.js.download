const e=/oferta\/.*\d{8,}/;window.adblockEnabledPreferenceUpdated=!1,window.opbox.component.register({prototypeName:"allegro.adblockDetector",clientImplementationVersion:"55f"},class{constructor({baseNode:e,props:{adblockEnabledPreference:t,setOneCookiePreference:o=!1,pathname:n}}){this.baseNode=e,this.window=window,this.adNode=e.querySelector(".ad"),this.adblockEnabledPreference=t,this.setOneCookiePreference=o,this.pathname=n}onMount(){this.adBlockDetector()}adBlockDetector(){const t=this.isBlockingVisually(),o=t?"detected":"undetected",n=this.baseNode.querySelector('[data-wrapper-name="detector-wrapper"] > .'+o);n&&(this.window.opbox.analytics.sendEvent({contextNode:this.baseNode,action:"adBlockDetected",label:t}),this.setOneCookiePreference&&!this.window.adblockEnabledPreferenceUpdated&&((async(t,o,n)=>{if("string"==typeof t){const a=t.split(";").filter(Boolean),d=((t,o,n)=>{let a=o;return n&&!o.includes(t)?a=[...o,t]:!n&&o.includes(t)&&(a=o.filter((e=>e!==t))),(d=a,Date.now()>=1690847999e3||0===d.length?d:d.filter((t=>!(t.length>14&&e.test(t))))).join(";");var d})(n||window.location.pathname,a,o);d.length<=4096&&t!==d&&await(async e=>window.opbox.preferences.set("adblockEnabled",e))(d).catch((()=>{}))}})(this.adblockEnabledPreference,t,this.pathname),this.window.adblockEnabledPreferenceUpdated=!0),(e=>{e.style.display="block"})(n))}isBlockingVisually(){return!this.adNode||0===this.adNode.clientHeight}});
//# sourceMappingURL=index.es6_a119233d.js.map