const e={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;"},t=/<|>|&|"|'/g,s=/"|'/g,n=RegExp(Array.from("javascript:",(e=>e+"[\\n\\r\\t]*")).join(""),"ig"),o=t=>e[t];class r{constructor(e,t){this.$=e[0];for(let s=0;s<t.length;s++){const n=t[s];if(Array.isArray(n))for(let e=0;e<n.length;e++)this.$esc(n[e]);else this.$esc(n);this.$+=e[s+1]}}$esc(e){this.$+=e instanceof r?e.$:(e+"").replace(t,o)}toString(){return this.$}}const i=(e,...t)=>new r(e,t),a="m0qj_5r",l="mrmn_qo",h="mrhf_u8",m="msbw_2",c="mldj_2",u="mtag_2",p="mm2b_2",d="m911_5r",g="mefy_5r",_="mnyp_5r",v="mdwl_5r",w="mjyo_6x",f="mgmw_wo",b="msts_n7",k="mgmw_u5g",y="mqen_m6",$="mp0t_0a",M="mgn2_14",E="m9qz_yp",B="mse2_40",W="mqvr_2",L="mqu1_40",j="mp4t_0",x="mryx_0",C="munh_0",I="m3h2_0",q="m2ha_2",P="mjt1_n2",z="m8qd_qh",T="mjir_sv",A="meqh_en",D="mg9e_0",S="mj7a_0",N="mh36_16",K="mvrt_16",O="mp7g_f6",F="mp7g_oh",R="mli8_k4",H="mtsp_ib",V="m0ux_fp",U="m31c_kb",Z="msa3_z4",J=f;let Y,G,Q=e=>e,X="pl-PL";const ee={"pl-PL":{sort:[["",["sortowanie"]]],hover_message:[["",["Dopasowujemy kolejność wyników do Twoich wyszukiwań. Mamy też inne opcje sortowania."]]],hover_message_button:[["",["DOWIEDZ SIĘ WIĘCEJ"]]],close:[["",["zamknij"]]],"Learn more about sorting":[["",["Dowiedz się więcej o sortowaniu"]]]}},te=/({{[^}]+}}|{%[^%}]+%})/g,se=/({{[^}]+}})/g,ne=/({%[^%}]+%})/g,oe=/({{\s*|\s*}}|{%\s*|\s*%})/g,re={"pl-PL":e=>1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2};function ie(e,t=""){if("string"==typeof e)throw Error("Translation has to be an array");return e.find((e=>e[0]===t))[1]}const ae=(e,t,s)=>{const n=ee[X][e];if(!n)throw Error(`Missing translation for lang "${X}" and key "${e}"`);return t?((e,t,s)=>{let n=ie(e,t.context);return parseInt(t.count,10)>=0?n=((e,t)=>{const s=re[X](t);return"boolean"!=typeof s?e[s]:e[s?1:0]})(n,t.count):[n]=n,((e,t,s)=>{if(s){let s=0;return e.split(te).map((n=>{if(n.match(ne)){const o=t.formatters[s];if(o)return s+=1,o(n.replace(oe,""));throw Error(`Missing translation formatter for "${e}"`)}return n.match(se)?t[n.replace(oe,"")]:n}))}const n=e.match(te);let o=0;return n?n.reduce(((s,n)=>{const r=n.replace(oe,"");if(n.match(ne)){const i=t.formatters[o];if(i)return o+=1,s.replace(n,i(r));throw Error(`Missing translation formatter for "${e}"`)}return n.match(se)?s.replace(n,t[r]):s}),e):e})(n,t,s)})(n,t,s):ie(n)[0]},le="helpButton",he="bhsw2",me="b1x8g",ce=O,ue=w+" "+O+" mjb5_w6 "+m+" "+c+" "+u+" "+p+" "+f+" msts_n6 m7er_k4 ti1554 ti1nw9 _ac10e_865Mp",pe=M+" "+$+" "+E+" "+F+" "+B+" "+L+" "+H+" "+R+" "+j+" "+I+" "+x+" "+C+" "+d+" "+g+" "+_+" "+v+" "+m+" "+c+" "+u+" "+p+" "+W+" "+Z+" "+y+" "+A+" "+a+" "+b+" "+N+" "+K+" "+D+" "+S+" "+T+" "+q+" "+z+" "+P+" "+he+" "+k+" "+l+" "+h+" "+U+" "+V+" "+me+" "+w+" mzmg_6m mj9z_5r mpof_vs mupj_5k",de="mg9e_16 "+K+" "+N+" "+M+" "+$+" mqu1_21 "+f+" "+R+" msa3_ae "+j+" "+I+" "+x+" "+C+" "+S,ge="m0t1_f9 "+D+" "+S+" "+M+" "+$+" "+E+" "+F+" "+B+" "+L+" "+H+" "+R+" "+j+" "+I+" "+x+" "+C+" "+d+" "+g+" "+_+" "+v+" "+m+" "+c+" "+u+" "+p+" "+W+" "+Z+" "+y+" "+A+" "+a+" "+b+" "+T+" "+q+" "+z+" "+P+" "+he+" "+k+" "+l+" "+h+" "+U+" "+V+" "+me+" mvrt_0 mh36_0 _ac10e_Pu4BD",_e=B+" "+w+" "+A+" "+Z+" mg9e_4 mvrt_4 mj7a_4 mh36_4 mhd5_0m i1vy1",ve="mpof_z0",we="mpof_5r";let fe,be=e=>e;const ke="hoverMessage",ye="closeButton",$e="hoverMessageWrapper",Me="learnMoreButton",Ee=ae("hover_message");class Be{constructor({elementButton:e,elementWrapper:t,marketplaceId:a}){var l;this.show=()=>{clearTimeout(this.timeout),this.showMessage=!0,this.toggleMesssageVisibility()},this.hide=(e=!0)=>{const t=e?200:0;this.showMessage=!1,this.timeout=setTimeout((()=>{this.toggleMesssageVisibility()}),t)},this.handleKeyPress=e=>{"Escape"===e.key&&this.hide(!1)},this.handleButtonClick=()=>{this.showMessage?(this.hide(),this.elementButton.focus()):(this.show(),this.elementCloseButton.focus())},this.handleFocusOut=e=>{this.elementMessageWrapper.contains(e.relatedTarget)||this.hide(!1)},this.handleCloseClick=()=>this.hide(!1),this.windowInnerWidth=window.innerWidth,this.elementButton=e,this.elementButtonDimensions=this.elementButton.getBoundingClientRect(),this.elementWrapper=t,this.elementWrapper.insertAdjacentHTML("beforeend",(l=(({stylePosition:e,marketplaceId:t})=>{const a=(e=>{switch(e){case"allegro-cz":case"allegro-business-cz":return"/pomoc/pro-kupujici/vyhledavani-a-sledovani/trideni-nabidek-a-produktu-WvjWEwDErtv";case"allegro-pl":case"allegro-business-pl":return"/pomoc/dla-kupujacych/wyszukiwanie-i-obserwowanie/sortowanie-ofert-i-produktow-jnbYnoArKSy";case"allegro-sk":case"allegro-business-sk":return"/pomoc/pre-kupujucich/vyhladavanie-a-oblubene/zl0xLEK6jFP";case"allegro-hu":return"/sugo/vevoknek/keresesek-es-kedvencek/yPonv69WbHr";default:return""}})(t);return i(fe||(fe=be`<div data-role="${0}" class="${0} ${0}" role="alertdialog" aria-describedby="learn_more_dialog_desc"><div data-role="${0}" class="${0} ${0}"><button class="${0}" data-role="${0}" type="button"><img src="${0}" class="${0}" alt="${0}"></button><p class="${0}">${0}</p><div class="${0}"><a href="${0}" target="_blank" rel="noreferrer" class="${0}" data-role="${0}">${0}</a></div></div></div>`),$e,ce,we,ke,ue,{leftTop:"ti7yw2 _ac10e_r0Z56",topCenter:"ti1t69 _ac10e_6S-Th",topRight:"ti1ic2 _ac10e_WxEMO"}[e],ge,ye,"https://a.allegroimg.com/original/34f3f5/bf439aab49d0a78bcd7501d51697/action-common-x-6c70096572",_e,ae("close"),de,Ee,"mpof_ki m389_6m m7f5_0a mryx_8",new r([(l=a+"",l.replace(s,o).replace(n,""))],[]),pe,Me,ae("hover_message_button"));var l})({marketplaceId:a,stylePosition:this.getArrowPosition()}),new r([l+""],[]))),this.elementMessageWrapper=this.getElement($e),this.elementMessage=this.getElement(ke),this.elementCloseButton=this.getElement(ye),this.elementButton=this.getElement(le),this.learnMoreButton=this.getElement(Me),this.showMessage=!1}toggleMesssageVisibility(){this.showMessage?(this.elementMessageWrapper.classList.remove(we),this.elementMessageWrapper.classList.add(ve)):(this.elementMessageWrapper.classList.remove(ve),this.elementMessageWrapper.classList.add(we))}getElement(e){return this.elementWrapper.querySelector(`[data-role="${e}"]`)}getArrowPosition(){const e=this.windowInnerWidth,t=this.elementButtonDimensions,s=e>=544?296:240;let n="topRight";return e>=t.right+s+8?n="leftTop":e>t.right+s/2&&(n="topCenter"),n}init(){this.elementButton.addEventListener("mouseenter",this.show),this.elementButton.addEventListener("mouseleave",this.hide),this.elementButton.addEventListener("click",this.handleButtonClick),this.elementMessageWrapper.addEventListener("mouseenter",this.show),this.elementMessageWrapper.addEventListener("mouseleave",this.hide),this.elementCloseButton.addEventListener("click",this.handleCloseClick),this.elementWrapper.addEventListener("keyup",this.handleKeyPress),this.elementMessageWrapper.addEventListener("focusout",this.handleFocusOut)}cleanup(){this.elementButton.removeEventListener("mouseenter",this.show),this.elementButton.removeEventListener("mouseleave",this.hide),this.elementButton.removeEventListener("click",this.handleButtonClick),this.elementMessageWrapper.removeEventListener("mouseenter",this.show),this.elementMessageWrapper.removeEventListener("mouseleave",this.hide),this.elementCloseButton.removeEventListener("click",this.handleCloseClick),this.elementWrapper.removeEventListener("keyup",this.handleKeyPress),this.elementMessageWrapper.removeEventListener("focusout",this.handleFocusOut)}}window.opbox.component.register({prototypeName:"allegro.listing.sort"},class{constructor({baseNode:e,props:t}){this.baseNode=e,this.select=this.baseNode.querySelector("select"),this.helpButton=this.baseNode.querySelector(`[data-role="${le}"]`),this.helpButtonWrapper=this.baseNode.querySelector('[data-role="helpButtonWrapper"]'),this.marketplaceId=t.marketplaceId}onMount(){this.select&&(this.select.value=this.select.getAttribute("data-value"),this.select.addEventListener("change",(({context:e})=>{const{opbox:t}=e;return({target:e})=>{const s=Array.from(e.options).find((e=>e.selected)).dataset.eventId;window&&window.opbox&&window.opbox.analytics&&window.opbox.analytics.sendClickEvent({contextNode:e,label:"sortTypeList",value:e.value,customParams:{sorting_selected:s}}),t.changeParams([{value:"m"!==e.value?e.value:null,name:"order"},{name:"p",value:null}])}})({context:window}))),this.hoverMessage=new Be({elementButton:this.helpButton,elementWrapper:this.helpButtonWrapper,marketplaceId:this.marketplaceId}),this.hoverMessage.init()}onUpdate({options:e,selected:t}){const s=((e,t)=>{const s=e.filter((e=>e.selected));return s.length?s[0].id:t})(e,t),n=(({options:e,selectedId:t})=>i(Y||(Y=Q` ${0} `),e.map((({id:e,label:s,eventId:n})=>i(G||(G=Q`<option ${0} value=${0} data-event-id=${0} class="${0}">${0}</option>`),e===t?"selected":"",e,n,J,s)))))({options:e,selectedId:s});this.select.innerHTML=n,this.select.dataset.value=s}onUnmount(){this.hoverMessage.cleanup()}});
//# sourceMappingURL=index.es6-pl-PL_336b35db.js.map