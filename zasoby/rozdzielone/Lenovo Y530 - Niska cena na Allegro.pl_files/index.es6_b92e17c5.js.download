const e={},t=(s,i)=>{var o=(i=i||[]).reduce(((t,s)=>t+(s===e)),2);return i.length>=o?s(...i):((e,t)=>Object.defineProperty(e,"nul",{writable:!1,value:t}))(((...o)=>t(s,i.reduce(((t,s)=>t.concat([s!==e?s:o.shift()||e])),[]).concat(o))),o-i.length)},s=t(((e,t)=>{for(var s={},i=0;i<t.length;i++){var o=e(t[i]);o in s?s[o].push(t[i]):s[o]=[t[i]]}return s})),i={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;"},o=/<|>|&|"|'/g,r=(RegExp(Array.from("javascript:",(e=>e+"[\\n\\r\\t]*")).join(""),"ig"),e=>i[e]);class n{constructor(e,t){this.$=e[0];for(let s=0;s<t.length;s++){const i=t[s];if(Array.isArray(i))for(let e=0;e<i.length;e++)this.$esc(i[e]);else this.$esc(i);this.$+=e[s+1]}}$esc(e){this.$+=e instanceof n?e.$:(e+"").replace(o,r)}toString(){return this.$}}const a=e=>new n([e+""],[]),c=(e,...t)=>new n(e,t),m="m0qj_5r",l="mrmn_qo",h="mrhf_u8",b="msbw_kb",g="msbw_rf",u="mldj_kb",_="mldj_rf",d="mtag_kb",p="mtag_rf",v="mm2b_kb",f="mm2b_rf",S="m911_5r",$="mefy_5r",y="mnyp_5r",w="mdwl_5r",A="mjyo_6x",k="mgmw_wo",C="msts_n7",N="mgmw_u5g",x="mqen_m6",j="mpof_ki",B="m389_6m",L="m7f5_6m",q="myre_6m",E="mz3i_8",T="mp0t_0a",O="mgn2_14",M="m9qz_yp",F="mse2_40",H="m09p_40",z="mse2_0",I="mqvr_2",W="mp4t_0",P="mryx_0",D="munh_0",R="m3h2_0",G="m2ha_2",U="mjt1_n2",V="m8qd_vz",X="mjir_sv",Y="meqh_en",J="mg9e_16",K="mg9e_8",Q="mg9e_0",Z="mj7a_16",ee="mj7a_8",te="mh36_16",se="mh36_0",ie="mvrt_16",oe="mvrt_8",re="mvrt_0",ne="mp7g_ca",ae="mp7g_oh",ce="mqm6_0",me="mli8_k4",le="mtsp_ib",he="m0ux_fp",be="m31c_kb",ge="m7er_40",ue="mjb5_zk",_e="mpof_z0_s",de="munh_32_s",pe="mg9e_24_l",ve="mj7a_24_l",fe="mh36_24_l",Se="mvrt_24_l",$e="mg14wd",ye="bfwvy",we="b14a0",Ae=A+" "+b+" "+u+" "+d+" "+v,ke=ae+" "+ue+" mg8p0k",Ce=J+" "+ie+" "+Z+" "+te+" "+pe+" "+Se+" "+ve+" "+fe+" mx7m_1 m911_co mefy_co mnyp_co mdwl_co mlkp_n6 msts_n6 "+b+" "+u+" "+d+" "+v,Ne="mj7a_16_l "+j+" "+_e+" "+B+" "+Z+" mj7a_8_s",xe=O+" "+T+" mqu1_21 "+k+" "+me+" "+W+" "+R+" "+P+" "+D,je=O+" "+T+" "+M+" "+ae+" "+le+" "+me+" "+W+" "+R+" "+P+" "+D+" "+S+" "+$+" "+y+" "+w+" "+g+" "+_+" "+p+" "+f+" "+I+" "+x+" "+Y+" "+m+" "+k+" "+C+" "+X+" "+G+" "+V+" "+U+" "+H+" "+ye+" "+l+" "+h+" b7yi7 "+se+" "+re+" "+Q+" mj7a_0 "+F+" "+j+" m0t1_f9",Be=K+" "+oe+" "+ee+" mh36_8 "+ge+" "+F+" b9nv2 "+A,Le="m0t1_7i mpof_5r "+_e+" mjb5_1 "+Q+" "+se+" "+oe+" "+ee+" m3h2_8 m3h2_16_l "+F+" "+ge+" "+A,qe="m0s5_fg",Ee=j+" "+B+" m7f5_0a mp4t_16_l "+W+" mp4t_8_s",Te=O+" "+T+" "+M+" "+ae+" "+le+" "+me+" "+W+" "+R+" "+P+" "+S+" "+$+" "+y+" "+w+" "+g+" "+_+" "+p+" "+f+" "+I+" "+x+" "+Y+" "+m+" "+C+" "+K+" "+ee+" "+X+" "+G+" "+V+" "+U+" "+H+" "+ye+" "+N+" "+l+" "+h+" "+be+" "+he+" "+we+" munh_16 "+de+" "+se+" "+re,Oe="data-alert-id",Me="data-alert-close-button",Fe="data-alert-action-button",He="data-alert-trigger-button";let ze,Ie,We,Pe,De,Re,Ge=(e=>(e.Danger="Danger",e.Information="Information",e.Warning="Warning",e.Success="Success",e))({}),Ue=(e=>(e.BottomLeft="BottomLeft",e.TopCenter="TopCenter",e))({}),Ve=(e=>(e.TopBar="TopBar",e.BottomBar="BottomBar",e))({}),Xe=(e=>(e.Header="Header",e.Content="Content",e.Footer="Footer",e))({}),Ye=e=>e;const Je={[Ge.Danger]:{messageStyle:"mgcwm5",colorFilter:qe,icon:"https://a.allegroimg.com/original/34b7b9/9a74d1634b6abf71a148e5c09ff6/information-common-stop-sign-3410a993c8"},[Ge.Information]:{messageStyle:"mg1ca6",colorFilter:"m0s5_1n",icon:"https://a.allegroimg.com/original/345f3c/c2aac3b449cc9147eb9b8e0dda62/information-common-information-8af0006886"},[Ge.Warning]:{messageStyle:"mg17g6",colorFilter:qe,icon:"https://a.allegroimg.com/original/3472e9/b856130f48139fc47090c772f36f/information-common-warning-sign-2531c08631"},[Ge.Success]:{messageStyle:"mgde7f",colorFilter:qe,icon:"https://a.allegroimg.com/original/340c58/2be3ac32477ba1a709ee37784396/information-common-round-tick-b91d141e77"}};function Ke(e,t){const{type:s,hasIcon:i,button:o,wrapWithParagraph:r}=t,n=Je[s]||Je[Ge.Information];return c(ze||(ze=Ye`<div class="${0} ${0}"><div class="${0}"><button ${0} aria-label="zamknij" type="button" class="${0}"><img alt="" src="${0}" class="${0}"></button><div class="${0} ${0} ${0}"><svg height="0" width="0" class="${0}"><filter color-interpolation-filters="sRGB" id="m-color-filter-blue"><feColorMatrix values="0 0 0 0 0.258 0 0 0 0 0.58 0 0 0 0 0.776 0 0 0 1 0"></feColorMatrix></filter></svg>${0}<div class="${0}" aria-live="assertive">${0}</div>${0}</div></div></div>`),Ae,ke,n.messageStyle,Me,je,"https://a.allegroimg.com/original/34f3f5/bf439aab49d0a78bcd7501d51697/action-common-x-6c70096572",Be,Ce,"_658a2_y8XBE",o?Ne:"","mp7g_f6",i?c(Ie||(Ie=Ye`<img alt="" aria-hidden="true" src="${0}" class="${0} ${0}">`),n.icon,n.colorFilter,Le):"","mgbp06",r?c(We||(We=Ye`<p class="${0}">${0}</p>`),xe,a(e)):a(e),o?c(Pe||(Pe=Ye`<div class="${0}">${0}</div>`),Ee,o.href?c(De||(De=Ye`<a href="${0}" ${0} target="${0}" class="${0}">${0}</a>`),o.href,Fe,o.target||"_self",Te,o.text):c(Re||(Re=Ye`<button ${0} type="button" class="${0}">${0}</button>`),Fe,Te,o.text)):"")}const Qe=e=>e.map((({elementRect:e})=>e.height)).reduce(((e,t)=>e+t),0),Ze=e=>{const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild};class et{constructor(e){this.services=void 0,this.unsubscribeOnShow=void 0,this.unsubscribeOnClose=void 0,this.services=e}async onShowAlert(e){const t=await this.getMessagesService();this.unsubscribeOnShow=t.onShowAlert(e)}async onCloseAlert(e){const t=await this.getMessagesService();this.unsubscribeOnClose=t.onCloseAlert(e)}unsubscribeOnShowAlert(){this.unsubscribeOnShow&&this.unsubscribeOnShow()}unsubscribeOnCloseAlert(){this.unsubscribeOnClose&&this.unsubscribeOnClose()}async closeAlert(e){(await this.getMessagesService()).closeAlert(e)}async showAlert(e,t,s){(await this.getMessagesService()).showAlert(e,t,s)}getMessagesService(){return this.services.get("opbox-messages-service")}}class tt{constructor(e){this.services=void 0,this.unsubscribeHandler=void 0,this.hasSubscription=!1,this.services=e}async subscribe(e){const t=await this.getStickyElementsService();this.unsubscribeHandler=t.subscribe(e),this.hasSubscription=!0}unsubscribe(){this.unsubscribeHandler&&this.unsubscribeHandler(),this.hasSubscription=!1}getStickyElementsService(){return this.services.get("opbox-sticky-elements-service")}}const st=ne+" "+ce+" "+j+" "+q+" "+B+" "+E+" "+ue+" "+z+" "+$e+" m7f5_0a_s mg14wd mgcgmb",it=ne+" "+ce+" "+j+" "+q+" "+B+" "+E+" "+ue+" "+z+" "+$e+" m389_5x_s "+de,ot=F+" mgmw_9u msts_xh "+j+" "+B+" "+L+" "+T,rt="mjru_ey munh_56 m3h2_56 "+J+" "+ie+" "+Z+" "+te+" _658a2_YCT2a",nt=O+" "+T+" "+M+" "+ae+" "+le+" "+me+" "+W+" "+R+" "+P+" "+D+" "+S+" "+$+" "+y+" "+w+" "+g+" "+_+" "+p+" "+f+" "+I+" "+x+" "+Y+" "+m+" "+C+" "+te+" "+ie+" "+K+" "+ee+" "+X+" "+G+" "+V+" "+U+" "+H+" "+ye+" "+N+" "+l+" "+h+" "+be+" "+he+" "+we,at=K+" "+ee+" "+O+" "+T+" "+M+" "+ae+" "+le+" "+me+" "+W+" "+R+" "+P+" "+D+" "+S+" "+$+" "+y+" "+w+" "+g+" "+_+" "+p+" "+f+" "+I+" "+x+" "+Y+" "+m+" "+k+" "+C+" "+te+" "+ie+" "+X+" "+G+" "+V+" "+U+" "+H+" "+ye+" "+A+" mzmg_6m mj9z_5r mpof_92 "+B+" "+L+" mupj_5k",ct=j+" m389_5x myre_zn "+T+" m09p_qm m7er_k4 msts_pt "+J+" "+pe+" "+ie+" "+Se+" "+Z+" "+ve+" "+te+" "+fe;let mt,lt,ht,bt=e=>e;function gt(e,t){switch(e){case Xe.Header:return c(mt||(mt=bt`<header class="${0}">Header</header>`),ot);case Xe.Footer:return c(lt||(lt=bt`<footer class="${0}">Footer</footer>`),ot);case Xe.Content:return c(ht||(ht=bt`<main class="${0}"><div class="${0}"><p>Currently rendering alerts with position:${0}<b>${0}</b></p><div class="${0}"><a href="position_BottomLeft" class="${0}">change to BottomLeft</a><a href="position_TopCenter" class="${0}">change to TopCenter</a></div><button data-role="${0}" data-alert-type="${0}" class="${0}">‚ÑπÔ∏è Trigger information alert</button><button data-role="${0}" data-alert-type="${0}" class="${0}">‚ö†Ô∏è Trigger warning alert</button><button data-role="${0}" data-alert-type="${0}" class="${0}">üõë Trigger danger alert</button><button data-role="${0}" data-alert-type="${0}" class="${0}">‚úÖ Trigger success alert</button></div></main>`),rt,ct," ",t,"mryx_16",at,at,He,Ge.Information,nt,He,Ge.Warning,nt,He,Ge.Danger,nt,He,Ge.Success,nt);default:return""}}class ut{constructor(e,t,s){this.messagesService=void 0,this.baseNode=void 0,this.position=void 0,this.renderPreview=()=>{if(!this.baseNode.parentNode)return;this.baseNode.parentNode.insertBefore(Ze(gt(Xe.Header,this.position).toString()),this.baseNode),this.baseNode.parentNode.insertBefore(Ze(gt(Xe.Footer,this.position).toString()),this.baseNode.nextSibling);const e=this.position===Ue.BottomLeft?this.baseNode:this.baseNode.nextSibling;this.baseNode.parentNode.insertBefore(Ze(gt(Xe.Content,this.position).toString()),e)},this.showAlert=e=>{const t=e.target.getAttribute("data-alert-type");this.messagesService.showAlert("This is example alert.",{type:t,position:this.position})},this.onMount=()=>{},this.baseNode=e,this.messagesService=s,this.position=t}}window.opbox.component.register({prototypeName:"allegro.alerts.component",clientImplementationVersion:"e24"},class{constructor({baseNode:e,services:t,props:i}){this.messagesService=void 0,this.stickyElementsService=void 0,this.baseNode=void 0,this.position=void 0,this.actionListeners=new Map,this.setupPositions=({elements:e})=>{const{[Ve.TopBar]:t=[],[Ve.BottomBar]:i=[]}=s((e=>e.type),e),o=Qe(t),r=Qe(i);this.position===Ue.TopCenter&&window.innerWidth>=544&&(this.baseNode.style.top=o?o+"px":""),this.position===Ue.BottomLeft&&(this.baseNode.style.bottom=r+"px")},this.createAlert=({key:e,content:t,options:s})=>{const{position:i}=s;if(i!==this.position)return;const o=Ze(Ke(t,s).toString());o.setAttribute(Oe,e);const r=o.querySelector(`[${Me}]`);r&&r.addEventListener("click",(()=>{this.messagesService.closeAlert(e)}),{once:!0});const n=s.button;n&&n.onClick&&this.addActionListener(e,o,n.onClick),this.baseNode.appendChild(o),this.manageStickyElementsSubscription()},this.removeAlert=({key:e})=>{const t=this.baseNode.querySelector(`[${Oe}="${e}"]`);t&&(this.removeActionListener(e,t),t.remove()),this.manageStickyElementsSubscription()},this.hasAlerts=()=>!!this.baseNode.querySelectorAll(`[${Oe}]`).length,this.manageStickyElementsSubscription=()=>{this.hasAlerts()?this.stickyElementsService.hasSubscription||this.stickyElementsService.subscribe(this.setupPositions):this.stickyElementsService.unsubscribe()},this.prepareContainer=()=>{const e=this.position===Ue.TopCenter?st:it;this.baseNode.classList.add(...e.split(" "));const t=this.baseNode.querySelector("a");t&&t.remove()},this.baseNode=e,this.position=i.position,this.messagesService=new et(t),this.stickyElementsService=new tt(t)}addActionListener(e,t,s){const i=t.querySelector(`[${Fe}]`);i&&(this.actionListeners.set(e,s),i.addEventListener("click",s))}removeActionListener(e,t){const s=this.actionListeners.get(e),i=t.querySelector(`[${Fe}]`);s&&i&&(i.removeEventListener("click",s),this.actionListeners.delete(e))}onMount(){this.prepareContainer(),this.messagesService.onShowAlert(this.createAlert),this.messagesService.onCloseAlert(this.removeAlert),new ut(this.baseNode,this.position,this.messagesService).onMount()}onUnmount(){this.messagesService.unsubscribeOnShowAlert(),this.messagesService.unsubscribeOnCloseAlert()}});
//# sourceMappingURL=index.es6_b92e17c5.js.map