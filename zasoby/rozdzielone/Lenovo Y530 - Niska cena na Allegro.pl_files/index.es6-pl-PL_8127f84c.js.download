var e,t,s=[(e,t,s)=>{s.d(t,{a:()=>o,b:()=>r});let o=(e=>(e.categories="Categories",e.suggestedCategories="SuggestedCategories",e.suggestedDepartmentName="SuggestedDepartmentName",e.tags="Tags",e.toggleButton="ToggleButton",e.header="Header",e.headerLink="HeaderLink",e.linkItem="LinkItem",e.linkItemAnchor="LinkItemAnchor",e))({});const r=e=>`[data-role="${e}"]`},(e,t,s)=>{s.d(t,{_:()=>u});let o="pl-PL";const r={"pl-PL":{boxTitle:[["",["Podkategorie"]]],more:[["",["więcej"]]],less:[["",["mniej"]]],levelUp:[["",["cofnij do"]]],suggestedCategoriesHeader:[["",["popularne"]]],allCategoriesHeader:[["",["wszystkie"]]],lessSubcategories:[["",["mniej podkategorii"]]],moreSubcategories:[["",["więcej podkategorii"]]],allegroWarehouse:[["",["Wszystko z Magazynu Allegro"]]],allSellersOffers:[["",["wszystkie oferty sprzedającego"]]],allCharityOffers:[["",["wszystkie oferty charytatywne"]]],allOffersForThisCharity:[["",["wszystkie oferty na ten cel"]]],campaignListing:[["",["wszystkie oferty kampanijne"]]]}},n=/({{[^}]+}}|{%[^%}]+%})/g,a=/({{[^}]+}})/g,i=/({%[^%}]+%})/g,l=/({{\s*|\s*}}|{%\s*|\s*%})/g,c={"pl-PL":e=>1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2};function d(e,t=""){if("string"==typeof e)throw Error("Translation has to be an array");return e.find((e=>e[0]===t))[1]}const u=(e,t,s)=>{const u=r[o][e];if(!u)throw Error(`Missing translation for lang "${o}" and key "${e}"`);return t?((e,t,s)=>{let r=d(e,t.context);return parseInt(t.count,10)>=0?r=((e,t)=>{const s=c[o](t);return"boolean"!=typeof s?e[s]:e[s?1:0]})(r,t.count):[r]=r,((e,t,s)=>{if(s){let s=0;return e.split(n).map((o=>{if(o.match(i)){const r=t.formatters[s];if(r)return s+=1,r(o.replace(l,""));throw Error(`Missing translation formatter for "${e}"`)}return o.match(a)?t[o.replace(l,"")]:o}))}const o=e.match(n);let r=0;return o?o.reduce(((s,o)=>{const n=o.replace(l,"");if(o.match(i)){const a=t.formatters[r];if(a)return r+=1,s.replace(o,a(n));throw Error(`Missing translation formatter for "${e}"`)}return o.match(a)?s.replace(o,t[n]):s}),e):e})(r,t,s)})(u,t,s):d(u)[0]}},(e,t,s)=>{s.d(t,{a:()=>r,b:()=>n,c:()=>o});const o=e=>t=>e.reduce(((e,s)=>(s in t&&Object.assign(e,{[s]:t[s]}),e)),{}),r=o(["count","name","id"]),n=o(["alias","name"])}],o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return s[e](n,n.exports,r),n.exports}r.m=s,r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>({0:"props-mapper",133:"render-view"}[e]+".es6-pl-PL_"+r.h().slice(0,8)+".js"),r.h=()=>"8127f84c",r.o=(e,t)=>({}.hasOwnProperty.call(e,t)),e={},t="@allegro/opbox-category-tree:",r.l=(s,o,n,a)=>{if(e[s])e[s].push(o);else{var i,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+n){i=u;break}}i||(l=!0,(i=document.createElement("script")).type="module",i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+n),i.src=s,0!==i.src.indexOf(window.location.origin+"/")&&(i.crossOrigin="anonymous")),e[s]=[o];var p=(t,o)=>{i.onerror=i.onload=null,clearTimeout(g);var r=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),t)return t(o)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://assets.allegrostatic.com/sc-16080/",(()=>{var e={826:0};r.f.j=(t,s)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var n=new Promise(((s,r)=>o=e[t]=[s,r]));s.push(o[2]=n);var a=r.p+r.u(t),i=Error();r.l(a,(s=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,o[1](i)}}),"chunk-"+t,t)}};var t=(t,s)=>{var o,n,[a,i,l]=s,c=0;if(a.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);l&&l(r)}for(t&&t(s);c<a.length;c++)n=a[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0},s=self.webpackJsonp_8d116=self.webpackJsonp_8d116||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{var e=r(0);let t=(e=>(e.click="click",e.contextmenu="contextmenu",e.keydown="keydown",e))({});const s=e=>null==e;function o(e){s(e.contextNode)||window.opbox.analytics.sendItemViewEvent(Object.assign(Object.assign({},e),{},{label:e.label||null,value:e.value||null}))}var n=r(2);const a=e=>e.reduce(((e,t)=>Array.isArray(t)?e.concat(a(t)):e.concat(t)),[]);function i(e){const t=e.getAttribute("href");if(t){const e="showLeftColumn=true";window.location.assign(t.includes("?")?`${t}&${e}`:`${t}?${e}`)}}var l=r(1);const c=[{id:"0",name:"Allegro",link:"//allegro.pl",count:0,selected:!0,hidden:!1}];function d(r,a,d,u){let p="",g="",h=!1,m=!1,f=d;const y=a.querySelector((0,e.b)(e.a.toggleButton)),b=a.querySelectorAll((0,e.b)(e.a.linkItem)),v=f.length>5&&!u,w=Array.from(b).filter((e=>"none"===e.style.display));y&&(p=y.dataset.noOutline,g=y.dataset.outlined),0!==f.length||u||(f=c),(({contextNode:e,categories:t=[],suggestedCategories:s})=>{var r;o({contextNode:e,customParams:{suggestedCategories:s,categories:(r=t,Array.isArray(r)?r.map(n.a):r)},label:"showAllCategories"})})({contextNode:a,categories:f,suggestedCategories:u?u.length>0:null});const k=()=>{y&&(m?(y.classList.remove(p),y.classList.add(g)):(y.classList.remove(g),y.classList.add(p)))},x=e=>{m=9===e.keyCode,k()},L=e=>{m=0===e.detail,h=!h,k(),(()=>{if(y){let e;e="1"===y.dataset.hideSiblings?h?l._("lessSubcategories"):l._("moreSubcategories"):h?l._("less"):l._("more"),y.innerHTML=e}})(),w.forEach((e=>{h?e.setAttribute("style",""):e.setAttribute("style","display:none")})),(()=>{if(!v&&y){const t={contextNode:y};e=h?{contextNode:t.contextNode,label:"clickMoreCategories"}:{contextNode:t.contextNode,label:"clickLessCategories"},s(e.contextNode)||window.opbox.analytics.sendBoxInteractionEvent(Object.assign(Object.assign({},e),{},{label:e.label||null,value:e.value||null}))}var e})()},C=e=>{const o=e.target.closest("a");if(o){if(o.dataset.customParams){const t=JSON.parse(o.dataset.customParams);(({contextNode:e,el:t,type:o})=>{const r={contextNode:e,customParams:{category:t},label:"clickCategory",destinationUrl:e.href,value:t.name};"click"===o&&(e=>{s(e.contextNode)||window.opbox.analytics.sendClickEvent(Object.assign(Object.assign({},e),{},{label:e.label||null,value:e.value||null}))})(r),"contextmenu"===o&&(e=>{s(e.contextNode)||window.opbox.analytics.sendContextmenuEvent(Object.assign(Object.assign({},e),{},{label:e.label||null,value:e.value||null}))})(r)})({type:e.type,contextNode:o,el:t})}r&&e.type===t.click&&(e.preventDefault(),i(o))}};return a.addEventListener(t.click,C),a.addEventListener(t.contextmenu,C),window.addEventListener(t.keydown,x),y&&y.addEventListener(t.click,L),{detach(){a.removeEventListener(t.click,C),a.removeEventListener(t.contextmenu,C),window.removeEventListener(t.keydown,x),y&&y.removeEventListener(t.click,L)}}}window.opbox.component.register({prototypeName:"allegro.navigator",clientImplementationVersion:"855"},class{constructor({props:e,baseNode:t}){this.baseNode=void 0,this.props=void 0,this.listeners=[],this.propsMapper=void 0,this.renderView=void 0,this.loadedDynamicsImports=!1,this.props=e,this.baseNode=t}onMount(){this.attachListeners()}onUpdate(e){this.loadedDynamicsImports?this.handleUpdate(e):r.e(0).then(r.bind(r,4)).then((e=>{this.propsMapper=e.propsMapper})).then((()=>r.e(133).then(r.bind(r,5)))).then((t=>{this.renderView=t.CategoryTree,this.loadedDynamicsImports=!0,this.handleUpdate(e)})).catch((e=>window.opbox.reportError(e)))}onUnmount(){this.detachListeners()}detachListeners(){this.listeners.forEach((e=>{e.detach()})),this.listeners.length=0}attachListeners(){const s=this.queryByRole(e.a.categories),r=this.props.showLeftColumnAfterReload;s&&this.listeners.push(d(r,s,this.props.categories,this.props.suggestedCategories));const l=this.queryByRole(e.a.tags);l&&this.listeners.push(d(r,l,this.props.tags));const c=this.queryByRole(e.a.suggestedCategories);c&&this.listeners.push(((s,r,l)=>{(({contextNode:e,suggestedCategories:t=[]})=>{const[s,r,i,l,c]=a(t.map((e=>e.paths.map((t=>(t.path||[]).map((s=>({department:(0,n.b)(e),parent:(0,n.a)(t),suggestedCategory:(0,n.a)(s)}))))))));o({contextNode:e,customParams:{suggestedCategories:{first:s||null,second:r||null,third:i||null,fourth:l||null,fifth:c||null}},label:"showSuggestedCategories"})})({suggestedCategories:l,contextNode:r});const c=t=>{const o=t.target.closest((0,e.b)(e.a.suggestedDepartmentName)),r=t.target.closest("a");if(o){const e=l.find((e=>e.name===o.dataset.key));null!=e&&Object.assign(e,{position:"department",suggested:!0})}r&&s&&(t.preventDefault(),i(r))};return r.addEventListener(t.click,c),{detach(){r.removeEventListener(t.click,c)}}})(r,c,this.props.suggestedCategories));const u=this.queryByRole(e.a.headerLink);u&&this.listeners.push(((e,s)=>{const o=t=>{e&&(t.preventDefault(),i(s))};return s.addEventListener(t.click,o),{detach(){s.removeEventListener(t.click,o)}}})(r,u))}queryByRole(t){return this.baseNode.querySelector((0,e.b)(t))}handleUpdate(e){this.propsMapper&&this.renderView&&(this.props=this.propsMapper(e),this.detachListeners(),this.baseNode.innerHTML=""+this.renderView(this.props),this.attachListeners())}})})();
//# sourceMappingURL=index.es6-pl-PL_8127f84c.js.map