!function(){"use strict";var t,e={};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=function(t,e){if("object"!==i(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return t+""}(n.key),"symbol"===i(r)?r:r+""),n)}var r}function r(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}t=e,"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});var s="listingLayout",a="".concat(s,"bmatchCopy"),l="".concat(s,"bmatchClose"),c="".concat(s,"bmatchToggle"),u="".concat(s,"bmatchText"),d="".concat(s,"bmatchMessage");function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=Array(e);o<e;o++)i[o]=t[o];return i}var m={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;"},g=/<|>|&|"|'/g,p=(RegExp(Array.from("javascript:",(function(t){return"".concat(t).concat("[\\n\\r\\t]*")})).join(""),"ig"),function(t){return m[t]}),f=function(){function t(e,i){o(this,t),this.$=e[0];for(var n=0;n<i.length;n++){var r=i[n];if(Array.isArray(r))for(var s=0;s<r.length;s++)this.$esc(r[s]);else this.$esc(r);this.$+=e[n+1]}}return r(t,[{key:"$esc",value:function(e){this.$+=e instanceof t?e.$:(e+"").replace(g,p)}},{key:"toString",value:function(){return this.$}}]),t}(),v="mlkp_n6",y="mx7m_1",b="mldj_2",w="mm2b_2",C="mdwl_5r",_="mjyo_6x",k="mpof_z0",B="mp0t_0a",T="mgn2_14",P="mse2_40",L="meqh_en",M="mh36_4",j="mli8_k4",S="msa3_z4",I="mpof_uk",E="mpof_vs",V="mpof_ki",x=k,A="mpof_5r",F="m9vn_gl",z="m9vn_d2",O=L,R=T+" "+B+" mqu1_21 mgmw_wo "+j+" "+_+" msbw_2 "+b+" mtag_2 "+w+" "+y+" "+v+" mjb5_zk mg8pbi "+M+" "+C+" msts_t2 mp7g_oz munh_16_m _1405b_Oo4g9",q=T+" "+B+" m9qz_yp "+P+" mqu1_40 mtsp_ib "+j+" mp4t_0 m3h2_0 mryx_0 munh_0 m911_5r mefy_5r mnyp_5r "+C+" msbw_rf mldj_rf mtag_rf mm2b_rf mqvr_2 "+S+" mqen_m6 "+L+" m0qj_5r msts_n7 mg9e_0 mj7a_0 mjir_sv m2ha_2 m8qd_vz mjt1_n2 b1kk0 mgmw_u5g mrmn_qo mrhf_u8 m31c_kb m0ux_fp b1g6n m0t1_f9 mvrt_0 mh36_0 "+k+" mp7g_f6 _1405b_ChnCj",G=P+" "+_+" "+L+" "+S+" mg9e_4 mvrt_4 mj7a_4 "+M+" mhd5_0m i1vy1",U="mg9e_16 mg9e_24_l mvrt_16 mvrt_24_l mj7a_16 mj7a_24_l msts_n6 "+y+" "+v+" m911_co mnyp_co mefy_co "+b+" "+w+" mgos5w";function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var i,n,r,s,a=[],l=!0,c=!1;try{if(r=(o=o.call(t)).next,0===e){if(Object(o)!==o)return;l=!1}else for(;!(l=(i=r.call(o)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(t){c=!0,n=t}finally{try{if(!l&&null!=o.return&&(s=o.return(),Object(s)!==s))return}finally{if(c)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $="pl-PL",W={"pl-PL":{filters:[["",["filtry"]]],categories:[["",["kategorie"]]],and:[["",["i"]]],copy:[["",["kopiuj"]]],"copy version identifier":[["",["Kopiuj identifykator wersji"]]],Show:[["",["Pokaż"]]],"show version identifier":[["",["Pokaż identyfikator wersji"]]],Hide:[["",["Ukryj"]]],"hide version identifier":[["",["Ukryj identyfikator wersji"]]],"version identifier":[["",["identyfikator wersji"]]],"The identifier was copied to the clipboard":[["",["Skopiowano identyfikator do schowka."]]],"Disconnect the same offers":[["",["Rozłącz te same oferty"]]],"Combine the same offers":[["",["Połącz te same oferty"]]],"show offers":[["",["pokaż oferty"]]],"skip to filters":[["",["Idź do filtrów"]]],"skip to search results":[["",["Idź do wyników wyszukiwania"]]],"switch view to gallery":[["",["Przełącz na widok galeryjny"]]],"switch view to list":[["",["Przełącz na widok listy"]]],"close alert":[["",["Zamknij alert"]]],"close filters and categories":[["",["Zamknij filtry i kategorie"]]],"view product description":[["",["Po kliknięciu zobaczysz uporządkowane i zgrupowane oferty tego samego produktu od różnych sprzedających."]]],"skip links":[["",["Szybkie linki strony wyszukiwania"]]]}};function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof t)throw Error("Translation has to be an array");return t.find((function(t){return t[0]===e}))[1]}var H,Z=function(){function t(e){var i=e.bmatchCopyButton,n=e.scenario;o(this,t),this.bmatchCopyButton=void 0,this.closeButton=void 0,this.messageContainer=void 0,this.scenario=void 0,this.textMessage=void 0,this.timeoutId=void 0,this.navigator=void 0,this.document=void 0,this.document=document,this.closeButton=null,this.navigator=window.navigator,this.bmatchCopyButton=i,this.scenario=n,this.textMessage="",this.messageContainer=null}return r(t,[{key:"showMessage",value:function(){this.messageContainer&&(this.messageContainer.classList.remove(A),this.messageContainer.classList.add(x))}},{key:"hideMessage",value:function(){this.messageContainer&&(this.messageContainer.classList.remove(x),this.messageContainer.classList.add(A))}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return""+t},e}((function(){this.timeoutId&&(clearTimeout(this.timeoutId),delete this.timeoutId)}))},{key:"delayHideMessage",value:function(){var t=this;this.timeoutId=setTimeout((function(){t.hideMessage(),t.clearTimeout()}),5e3)}},{key:"displayMessage",value:function(){this.timeoutId||(this.renderMessage(),this.showMessage(),this.delayHideMessage())}},{key:"initCloseButtonEventListener",value:function(){var t=this;this.messageContainer&&(this.closeButton=this.messageContainer.querySelector('[data-role="'.concat(l,'"]')),this.closeButton&&this.closeButton.addEventListener("click",(function(){t.hideMessage(),t.clearTimeout()})))}},{key:"renderMessage",value:function(){if(!this.messageContainer){var t,e,o=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];return new f(t,o)}(H||(t=['<div class="','" data-role="','"><div class="','"><div class="','">','</div></div><button data-role="','" type="button" class="','" title="','"><picture><srcset media="(prefers-color-scheme: dark)" srcset="','" /><img src="','" class="','" alt="" /></picture></button></div>'],e||(e=t.slice(0)),H=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),R,d,U,"mg13b1 _1405b_OeAaI",this.textMessage,l,q,function(t,e,o){var i=W[$][t];if(!i)throw Error('Missing translation for lang "pl-PL" and key "close alert"');return N(i)[0]}("close alert"),"https://a.allegroimg.com/original/342b8d/cd0ef65448be965c55540f8a8d90/dark-action-common-x-a578977b7f","https://a.allegroimg.com/original/34f3f5/bf439aab49d0a78bcd7501d51697/action-common-x-6c70096572",G);this.document.body.insertAdjacentHTML("beforeend",o),this.messageContainer=this.document.querySelector('[data-role="'.concat(d,'"]')),this.initCloseButtonEventListener()}}},{key:"copyToClipboard",value:function(){var t=this;this.bmatchCopyButton&&(this.textMessage=this.bmatchCopyButton.getAttribute("data-text-bmatch-message")||"",this.navigator&&this.navigator.clipboard&&this.navigator.clipboard.writeText&&this.navigator.clipboard.writeText(this.scenario).then((function(){t.displayMessage()})))}}]),t}(),K="PRODUCT",Y="OFFER";function J(){var t=document.querySelector('input[data-role="search-input"]');if(t){var e=t.value.length;t.focus(),t.setSelectionRange(e,e)}}function Q(t,e){t&&(t.classList.toggle(x,e),t.classList.toggle(A,!e),document.body.classList.toggle(O,e),e?window.history.pushState({page:"filtersRwdLayer"},""):window.history.replaceState(window.history.state,"",function(t){var e=new URL(t),o=new URLSearchParams(e.search);o.delete("showLeftColumn");var i=Array.from(o.entries());if(0===i.length)e.search="";else{var n=i.map((function(t){return t.map(encodeURIComponent)})).map((function(t){return t.join("=")})).join("&");e.search=n}return e.toString()}(window.location.href)))}var X,tt=new CustomEvent("opbox:listing:filter layer opened"),et=new CustomEvent("opbox:listing:filter layer about to be closed");function ot(t){var e=t.elements,o=t.styleToAdd,i=t.styleToRemove;e&&e.forEach((function(t){t&&(t.classList.add(o),t.classList.remove(i))}))}function it(t){var e=t.loader,o=t.display;e&&(e.classList.toggle(x,o),e.classList.toggle(A,!o))}function nt(t,e){return t.querySelector('[data-role="'.concat(e,'"]'))}X=function(){function t(e){var i=e.baseNode,n=e.props;o(this,t),this.baseNode=void 0,this.props=void 0,this.bmatchCopyButton=void 0,this.bmatchTextContainer=void 0,this.bmatchToggleButton=void 0,this.toggleViewIcon=void 0,this.searchButton=void 0,this.closeFiltersButton=void 0,this.closeFiltersModal=void 0,this.filtersContainer=void 0,this.itemsContainer=void 0,this.aboveItems=void 0,this.rightItems=void 0,this.paginationBottom=void 0,this.stickyContainer=void 0,this.baseFiltersBars=void 0,this.totalCountElement=void 0,this.loader=void 0,this.toggleViewProductButtons=void 0,this.toggleProductViewMobileWrapper=void 0,this.sortTop=void 0,this.toggleViewGallery=void 0,this.listingContainer=void 0,this.baseNode=i,this.props=n.props,this.bmatchCopyButton=nt(i,a),this.bmatchTextContainer=nt(i,u),this.bmatchToggleButton=nt(i,c),this.closeFiltersButton=nt(i,"closeFiltersButton"),this.closeFiltersModal=nt(i,"closeFiltersModal"),this.filtersContainer=nt(i,"filtersContainer"),this.itemsContainer=nt(i,"itemsContainer"),this.searchButton=nt(i,"searchButton"),this.toggleViewIcon=nt(i,"toggleViewIcon"),this.aboveItems=nt(i,"aboveItems"),this.rightItems=nt(i,"rightItems"),this.paginationBottom=nt(i,"paginationBottom"),this.stickyContainer=nt(i,"stickyContainer"),this.baseFiltersBars=[nt(i,"baseFiltersBarTop"),nt(i,"baseFiltersBarSticky")].map((function(t){return{bar:t,counter:t&&t.parentElement&&nt(t.parentElement,"baseFiltersBarCounter")}})),this.toggleViewProductButtons=Array.from(i.querySelectorAll('[data-role="toggleViewProductButton"]')),this.toggleProductViewMobileWrapper=nt(i,"toggleViewProductMobileWrapper"),this.totalCountElement=nt(i,"totalCount"),this.sortTop=nt(i,"sortTop"),this.toggleViewGallery=nt(i,"toggleViewGallery"),this.loader=nt(i,"loader"),this.listingContainer=i.querySelector('[data-prototype-id="allegro.listing"],[data-prototype-id="allegro.product.listing"]')}return r(t,[{key:"beforeOnUpdate",value:function(){it({loader:this.loader,display:!0})}},{key:"onUpdate",value:function(t){var e,o,i,n,r,s,a,l,c,u,d,h,m,g,p=(i=(e={parameters:t}).parameters,n=i.searchMeta,r=i.searchPhrase,s=i.isGalleryView,a=i.isMobile,l=i.showViewSwitch,c=i.isProductView,u=i.showProductSwitch,d=i.showLeftColumn,h=i.hardProdDisjoinValue,m=e.slots,(g=void 0===m?new Map:m)&&g.size>0&&(o={left:g.get("left"),paginationBottom:g.get("paginationBottom"),paginationTop:g.get("paginationTop"),rightAboveItems:g.get("rightAboveItems"),rightBelowItems:g.get("rightBelowItems"),rightItems:g.get("rightItems"),topFilters:g.get("topFilters"),sortTop:g.get("sortTop"),top:g.get("top"),mobileStickyBar:g.get("mobileStickyBar")}),{props:{searchMeta:n,searchPhrase:r,isGalleryView:s,isMobile:a,showViewSwitch:l,isProductView:c,showProductSwitch:u,showLeftColumn:d,hardProdDisjoinValue:h},slots:o}).props;(function(t){var e,o=t.totalCountElement,i=t.props.searchMeta.totalCount;o&&"number"==typeof(e=i)&&isFinite(e)&&Math.floor(e)===e&&(o.innerText="".concat(i))})({totalCountElement:this.totalCountElement,props:p}),this.baseFiltersBars.forEach((function(t){!function(t){var e=t.baseFiltersBarCounter,o=t.props.searchMeta.appliedFiltersCount,i=o>0;e&&(e.innerText="".concat(o),e.classList.toggle(E,i),e.classList.toggle(A,!i))}({baseFiltersBarCounter:t.counter,props:p})})),function(t){var e=t.elementsOnMobile,o=t.elementsOnRWD,i=t.props,n=i.isMobile,r=!i.searchMeta.totalCount;ot(r?{elements:e,styleToAdd:F,styleToRemove:z}:{elements:e,styleToAdd:z,styleToRemove:F}),r&&!n?ot({elements:o,styleToAdd:A,styleToRemove:V}):r||n||ot({elements:o,styleToAdd:V,styleToRemove:A})}({elementsOnMobile:[this.sortTop,this.toggleViewGallery,this.paginationBottom],elementsOnRWD:[this.aboveItems],props:p}),it({loader:this.loader,display:!1})}},{key:"onMount",value:function(){!function(t){var e=t.bmatchCopyButton,o=t.bmatchTextContainer,i=t.bmatchToggleButton,n=t.baseFiltersBars,r=t.closeFiltersButton,s=t.closeFiltersModal,a=t.filtersContainer,l=t.itemsContainer,c=t.searchButton,u=t.stickyContainer,d=t.aboveItemsContainer,h=t.toggleProductViewMobileWrapper,m=t.toggleViewIcon,g=t.toggleProductViewButtons,p=t.rightItemsSlotContainer,f=t.listingContainer,v=t.props,y=v.isMobile,b=v.isGalleryView,w=v.isProductView,C=v.showProductSwitch,_=v.searchMeta,k=v.hardProdDisjoinValue,B=_.scenario,T="click";if(e&&B){var P=new Z({bmatchCopyButton:e,scenario:B});e.addEventListener(T,(function(){P.copyToClipboard()}))}i&&o&&i.addEventListener(T,(function(){!function(t){var e=t.bmatchToggleButton,o=t.bmatchCopyButton,i=t.bmatchTextContainer;if(e&&i&&o){var n=e.getAttribute("data-text-hide")||"",r=e.getAttribute("data-text-show")||"",s=e.getAttribute("data-aria-label-show")||"",a=e.getAttribute("data-aria-label-hide")||"";e.innerText===r?(e.innerText=n,e.setAttribute("aria-label",a),i.classList.add(I),i.classList.remove(A),o.classList.add(E),o.classList.remove(A)):(e.innerText=r,e.setAttribute("aria-label",s),i.classList.add(A),i.classList.remove(I),o.classList.add(A),o.classList.remove(E))}}({bmatchToggleButton:i,bmatchCopyButton:e,bmatchTextContainer:o})})),y&&u&&function(t,e,o,i){var n=null,r=0,s=!1,a=!1;window.addEventListener("scroll",(function(){e&&i&&(n||(n=window.setTimeout((function(){var l=e.getBoundingClientRect().y,c=i.getBoundingClientRect(),u=Math.abs(c.y)<c.height,d=l>r;r=l,n=null,a=(s=l<-16&&u)&&d,t.classList.toggle(V,s),t.classList.toggle(A,!s),o&&o.classList.toggle(A,!a)}),100)))}),{passive:!0})}(u,d,h,p),m&&m.addEventListener(T,(function(){!function(t){var e=t.isGalleryView,o=new URL(window.location.href);if("galeria"===o.searchParams.get("widok"))o.searchParams.delete("widok"),window.location.assign(o.toString());else{var i="isGalleryView";window.opbox.preferences.get(i).then((function(t){var o="true"===t||""===t&&e?"false":"true";window.opbox.preferences.set(i,o).then((function(){return window.location.reload()})).catch((function(t){return console.error(t)}))})).catch((function(t){return console.error(t)}))}}({isGalleryView:b})})),c&&c.addEventListener(T,J),g.length>0&&C&&g.forEach((function(t){t.addEventListener(T,(function(){var e=t.querySelector('[data-role="toggleViewProductButtonSpinner"]');!function(t){var e=t.isProductView,o=void 0!==e&&e,i=t.button,n=t.spinner,r=t.hardProdDisjoinValue,s=new URL(window.location.href);s.searchParams.delete("p"),s.searchParams.delete("forceProductFlow"),n&&(i.disabled=!0,n.classList.add(x),n.classList.remove(A));var a=r&&""!==r?window.opbox.preferences.set("hardProductization",r):Promise.resolve();Promise.all([window.opbox.preferences.set("isProductsListing",!o),a]).then((function(){var t;t=o,window.opbox.plugin.get("survey").then((function(e){try{e.queueEvent("LISTING_TYPE_CHANGE",{oldListingType:t?K:Y,newListingType:t?Y:K})}catch(t){window.opbox.reportError({name:"Survey plugin queueEvent failure.",stack:"",status:404,message:"Couldn't queue the event via survey plugin."})}})).catch((function(){window.opbox.reportError({name:"Survey plugin load failure.",stack:"",status:404,message:"Couldn't load the survey plugin."})})),window.location.href=function(t){var e,o;return t.origin+t.pathname+(e=t.searchParams,(o=Array.from(e.entries()).map((function(t){return t.map(encodeURIComponent)})).map((function(t){var e=D(t,2),o=e[0],i=e[1];return"".concat(o,"=").concat(i)}))).length?"?".concat(o.join("&")):"")}(s)}))}({isProductView:w,button:t,spinner:e,hardProdDisjoinValue:k})}))})),a&&l&&(n.forEach((function(t){var e=t.bar;e&&e.addEventListener(T,{timeoutId:void 0,handleEvent:function(){window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((function(){Q(a,!0),null==f||f.dispatchEvent(tt)}),0)}})})),r&&r.addEventListener(T,(function(){var t;null==f||f.dispatchEvent(et),Q(a,!1),(t=window)&&t.scrollTo(0,0)})),s&&s.addEventListener(T,(function(){null==f||f.dispatchEvent(et),Q(a,!1)})),window.addEventListener("popstate",(function(){null==f||f.dispatchEvent(et),Q(a,!1)})))}({bmatchCopyButton:this.bmatchCopyButton,bmatchTextContainer:this.bmatchTextContainer,bmatchToggleButton:this.bmatchToggleButton,baseFiltersBars:this.baseFiltersBars,closeFiltersButton:this.closeFiltersButton,closeFiltersModal:this.closeFiltersModal,filtersContainer:this.filtersContainer,itemsContainer:this.itemsContainer,searchButton:this.searchButton,toggleViewIcon:this.toggleViewIcon,stickyContainer:this.stickyContainer,aboveItemsContainer:this.aboveItems,toggleProductViewButtons:this.toggleViewProductButtons,toggleProductViewMobileWrapper:this.toggleProductViewMobileWrapper,rightItemsSlotContainer:this.rightItems,listingContainer:this.listingContainer,props:this.props})}}]),t}(),window.opbox.component.register({prototypeName:"allegro.listing.layout",clientImplementationVersion:"b5d"},X);var rt=window;for(var st in e)rt[st]=e[st];e.__esModule&&Object.defineProperty(rt,"__esModule",{value:!0})}();
//# sourceMappingURL=listing-layout-rwd-pl-PL_5819a5f5.js.map