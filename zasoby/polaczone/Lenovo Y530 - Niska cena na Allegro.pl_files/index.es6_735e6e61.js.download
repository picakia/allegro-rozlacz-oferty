const i="localizationSettings",t="localization-settings",n="hashchange";class o{constructor({window:i,props:o}){this.window=void 0,this.props=void 0,this.containsHashInUrl=()=>this.window.location.hash==="#"+t,this.checkHash=()=>{this.containsHashInUrl()&&(this.renderModal(),this.window.removeEventListener(n,this))},this.renderModal=()=>{this.window.opbox.page.render.fragment({pathname:this.props.modalUrl})},this.init=()=>{this.containsHashInUrl()?this.renderModal():this.window.addEventListener(n,this)},this.show=()=>{this.window.location.hash="#"+t},this.window=i,this.props=o}handleEvent({type:i}){i===n&&this.checkHash()}getPublicApi(){return{show:this.show}}}const{localizationSettingsConfig:s}=(({pluginName:i,clientImplementationVersion:t})=>{try{return JSON.parse(window.document.querySelector(`script[data-serialize-plugin-name="${i}"][data-civ="${t}"]`).textContent)}catch(n){return window.opbox.reportError(Error(`Missing serialized props of plugin "${i}", with civ "${t}"`)),{}}})({pluginName:i,clientImplementationVersion:"41d"});if(s){const t=new o({window,props:s});t.init(),window.opbox.plugin.register({name:i},t.getPublicApi())}
//# sourceMappingURL=index.es6_735e6e61.js.map