var e=[(e,t)=>{t.__esModule=!0,t.default=e=>{var t=e.searchParams,r=Array.from(t.entries()).map((e=>e.map(encodeURIComponent))).map((e=>e[0]+"="+e[1]));return r.length?"?"+r.join("&"):""}},,(e,t,r)=>{t.a=void 0;var i=r(3),a=r(0),s=r(4),o=function(){function e(e){this.isCustomPath=!1,this.categoryAlias=null,this.categoryId=null;try{this.url=new URL(e)}catch(r){if(e.startsWith("/"))this.url=new URL("https://allegro.pl"+e);else{var t=e.startsWith("?")?e:"?"+e;this.url=new URL("https://allegro.pl"+t)}}finally{this.isCustomPath=s.isCustom(e),this.removeUnusedParams()}}return e.hasQueryParam=(e,t,r)=>{var i=new URL(e);return!(!i.searchParams.has(t)||r&&!i.searchParams.getAll(t).find((e=>e===r)))},e.prototype.getMainPage=function(){return this.url.origin},e.prototype.setCustomPath=function(e){return this.isCustomPath=!0,e&&!e.startsWith(".")&&(this.url.pathname=e),this},e.prototype.getQueryParam=function(e){return this.url.searchParams.get(e)||""},e.prototype.getPathname=function(){return this.url.pathname.split("/").filter((e=>!!e))},e.prototype.addFilter=function(e,t){return t&&this.addParam(e,t),this},e.prototype.addFiltersFromQueryString=function(e){var t=this;return e.startsWith("?")&&new URLSearchParams(e).forEach(((e,r)=>{t.removeParam(r),t.addParam(r,e)})),this},e.prototype.removeFilter=function(e,t){if(t){var r=new URLSearchParams;this.url.searchParams.forEach(((i,a)=>{e===a&&t===i||r.append(a,i)})),this.url.search=r.toString()}else this.removeParam(e);return this},e.prototype.removeAllFilters=function(){return this.url.search="",this},e.prototype.removeAllFiltersExcluding=function(e){var t=this;return Array.from(this.url.searchParams.keys()).filter((t=>-1===e.indexOf(t))).forEach((e=>t.removeParam(e))),this},e.prototype.addUser=function(e){return this.addParam("us_id",e),this},e.prototype.removeUser=function(){return this.removeParam("us_id"),this},e.prototype.setSorting=function(e){return e&&(this.setDefaultSorting(),this.addParam("order",e)),this},e.prototype.setDefaultSorting=function(){return this.removeParam("order"),this},e.prototype.setPage=function(e){var t=Number(e);return t&&(this.removeParam("p"),t>1&&this.addParam("p",t)),this},e.prototype.getType=function(){return s.getType(this.url.toString())},e.prototype.isUserType=function(){return s.isUserType(this.url.toString())},e.prototype.isRegularType=function(){return s.isRegularType(this.url.toString())},e.prototype.isPromotedType=function(){return s.isPromotedType(this.url.toString())},e.prototype.isClosedType=function(){return s.isClosedType(this.url.toString())},e.prototype.isDeprecatedUser=function(){return s.isDeprecatedUser(this.url.toString())},e.prototype.isCurrentUser=function(){return s.isCurrentUser(this.url.toString())},e.prototype.isProductType=function(){return s.isProductType(this.url.toString())},e.prototype.withCategoryAlias=function(e){return this.categoryAlias=e,this},e.prototype.withCategoryId=function(e){return this.categoryId=e,this},e.prototype.removeCategory=function(){return this.categoryAlias="",this.categoryId="",this},e.prototype.setBaseDomain=function(e){return e&&e.startsWith("allegro.pl")&&(this.url.host=e),this},e.prototype.buildCanonical=function(){return i.default(this.url.toString())},e.prototype.buildRelative=function(){return this.isCustomPath||this.buildListingPath(),this.url.pathname+a.default(this.url)},e.prototype.buildAndroidDeepLink=function(){return this.isUserType()&&(this.url.pathname="listing/user/listing.php"),this.buildCanonical().replace(/https?:\/\//,"android-app://pl.allegro/http/")},e.prototype.build=function(){this.isCustomPath||this.buildListingPath();var e=this.url;return e.origin+e.pathname+a.default(this.url)},e.prototype.addParam=function(e,t){this.url.searchParams.append(e,t.toString())},e.prototype.removeParam=function(e){var t=this.url.searchParams;t.has(e)&&t.delete(e)},e.prototype.removeUnusedParams=function(){for(var e=this.url.searchParams,t=0,r=Array.from(e.entries());t<r.length;t++){var i=r[t],a=i[0];i[1]||e.delete(a)}this.removeDefaultPageNumber()},e.prototype.removeDefaultPageNumber=function(){"1"===this.url.searchParams.get("p")&&this.removeParam("p")},e.prototype.buildListingPath=function(){if(this.isRegularType())this.categoryAlias?this.url.pathname="kategoria/"+this.categoryAlias:""===this.categoryAlias&&(this.url.pathname="listing");else if(this.isCurrentUser()){if(this.categoryAlias){var e=this.url.pathname.split("/"),t=e[1],r=e[2];this.url.pathname=[t,r].join("/")+"/"+this.categoryAlias}else if(""===this.categoryAlias){var i=this.url.pathname.split("/");t=i[1],r=i[2],this.url.pathname=[t,r].join("/")}}else this.isDeprecatedUser()&&(this.categoryId?(this.addParam("id",this.categoryId),""===this.categoryAlias&&this.removeParam("id")):""===this.categoryAlias&&this.removeParam("id"))},e}();t.a=o},(e,t,r)=>{t.__esModule=!0;var i=r(0),a=["id","us_id","string","city","tags[]","p"];t.default=e=>{var t=new URLSearchParams,r=new URL(e);return a.forEach((e=>{r.searchParams.has(e)&&t.append(e,r.searchParams.get(e)||"")})),r.search=t.toString(),r.origin+r.pathname+i.default(r)}},(e,t)=>{var r;t.__esModule=!0,t.isProductType=t.isCurrentUser=t.isDeprecatedUser=t.isCustom=t.isClosedType=t.isPromotedType=t.isRegularType=t.isUserType=t.getType=void 0,(e=>{e[e.User=0]="User",e[e.DeprecatedUser=1]="DeprecatedUser",e[e.Regular=2]="Regular",e[e.Closed=3]="Closed",e[e.Promoted=4]="Promoted",e[e.Product=5]="Product",e[e.None=6]="None"})(r||(r={}));var i=[{type:r.DeprecatedUser,name:"user",patterns:["^/listing/user/listing.php"]},{type:r.User,name:"user",patterns:["/uzytkownik/.+","/user/.+"]},{type:r.Regular,name:"regular",patterns:["^/listing","kategoria/.+"]},{type:r.Closed,name:"closed",patterns:["^/zakonczone"]},{type:r.Promoted,name:"promoted",patterns:["^/promowane"]},{type:r.Product,name:"product",patterns:["^/produkt"]}];function a(e){try{for(var t=new URL(e).pathname,a=0,s=i;a<s.length;a++){var o=s[a],n=o.patterns,u=o.type;if(n.find((e=>t.match(e))))return u}return r.None}catch(p){return r.None}}t.getType=e=>{var t=a(e),r=i.find((e=>e.type===t));return(null==r?void 0:r.name)||"none"},t.isUserType=e=>{var t=a(e);return t===r.User||t===r.DeprecatedUser},t.isDeprecatedUser=e=>a(e)===r.DeprecatedUser,t.isRegularType=e=>a(e)===r.Regular,t.isPromotedType=e=>a(e)===r.Promoted,t.isClosedType=e=>a(e)===r.Closed,t.isCustom=e=>a(e)===r.None,t.isCurrentUser=e=>a(e)===r.User,t.isProductType=e=>a(e)===r.Product}],t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}(()=>{let e="pl-PL";const t={"pl-PL":{page:[["",["Strona"]]],in_category:[["",["w kategorii"]]],promoted_offers:[["",["Oferty promowane"]]],allegro_more_than_auctions_suffix:[["",["Allegro. Więcej niż aukcje."]]],best_offers_at_an_attractive_price_suffix:[["",["Najlepsze oferty w atrakcyjnej cenie. Radość zakupów i 100% bezpieczeństwa dla każdej transakcji. Kup Teraz!"]]],offers_from_user:[["",["Przedmioty użytkownika"]]],brand_zone:[["",["Strefa Marek Allegro"]]],discover_joy_of_purchase_suffix:[["",["Odkryj radość zakupów i 100% bezpieczeństwa transakcji."]]],in_shop:[["",["w sklepie"]]],in_brand_zone:[["",["w Strefie Marek Allegro"]]],brand_products_suffix:[["",[" Markowe produkty, perfekcyjna obsługa i korzystne ceny."]]],in_official_allegro_shop:[["",["w Oficjalnym Sklepie Allegro"]]],safe_shopping_suffix:[["",["Bezpieczne zakupy, błyskawiczna dostawa i korzystne ceny. Kup Teraz!"]]],check_offers:[["",["Sprawdź oferty"]]],of_user:[["",["użytkownika"]]],on_allegro:[["",["na Allegro"]]],in_user_offers:[["",["w ofertach użytkownika"]]],default_title:[["",["Allegro - Więcej niż aukcje. Najlepsze oferty na największej platformie handlowej."]]],default_description:[["",["Allegro - Więcej niż aukcje. Najlepsze oferty na największej platformie handlowej."]]],default_user_title:[["",["Przedmioty użytkownika - {{userName}} - Allegro"]]],default_user_description:[["",["Sprawdź oferty użytkownika {{userName}} na Allegro. Odkryj radość zakupów i 100% bezpieczeństwa transakcji."]]],default_promoted_title:[["",["Oferty promowane - {{categoryName}} - Allegro. Więcej niż aukcje."]]],default_promoted_description:[["",["Oferty promowane - {{categoryName}} - Najlepsze oferty w atrakcyjnej cenie. Radość zakupów i 100% bezpieczeństwa dla każdej transakcji. Kup Teraz!"]]]}},i=/({{[^}]+}}|{%[^%}]+%})/g,a=/({{[^}]+}})/g,s=/({%[^%}]+%})/g,o=/({{\s*|\s*}}|{%\s*|\s*%})/g,n={"pl-PL":e=>1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2};function u(e,t=""){if("string"==typeof e)throw Error("Translation has to be an array");return e.find((e=>e[0]===t))[1]}const p=(r,p,l)=>{const h=t[e][r];if(!h)throw Error(`Missing translation for lang "${e}" and key "${r}"`);return p?((t,r,p)=>{let l=u(t,r.context);return parseInt(r.count,10)>=0?l=((t,r)=>{const i=n[e](r);return"boolean"!=typeof i?t[i]:t[i?1:0]})(l,r.count):[l]=l,((e,t,r)=>{if(r){let r=0;return e.split(i).map((i=>{if(i.match(s)){const a=t.formatters[r];if(a)return r+=1,a(i.replace(o,""));throw Error(`Missing translation formatter for "${e}"`)}return i.match(a)?t[i.replace(o,"")]:i}))}const n=e.match(i);let u=0;return n?n.reduce(((r,i)=>{const n=i.replace(o,"");if(i.match(s)){const a=t.formatters[u];if(a)return u+=1,r.replace(i,a(n));throw Error(`Missing translation formatter for "${e}"`)}return i.match(a)?r.replace(i,t[n]):r}),e):e})(l,r,p)})(h,p,l):u(h)[0]},l=e;var h=r(2);const c=class{constructor(e){this.props=e,this.elements=[]}withCategoryPrefixedBy(e){return this.props.categoryData&&this.props.categoryData.name&&this.elements.push(e+this.props.categoryData.name),this}withPagePrefixedBy(e){return"number"==typeof this.props.page&&this.props.page>1&&this.elements.push(`${e}${p("page")} ${this.props.page}`),this}withCustomPrefix(e){return this.elements.push(e),this}withCustomSuffix(e){return this.elements.push(e),this}_capitalizeFirstLetter(e){return e[0].toUpperCase()+e.substring(1)}_isRetail(){return this.props.userData&&"1680"===this.props.userData.id}_isBrandzone(){return this.props.userData&&this.props.userData.brandzone&&this.props.userData.brandzone.fullName}},d=class extends c{withPhrase(){return this.props.phrase&&this.elements.push(this.props.phrase),this}withUser(){return this.props.userData&&this._isBrandzone()?this.elements.push(this.props.userData.brandzone.fullName):this.elements.push(`${p("offers_from_user")} ${this.props.userData.login}`),this}withService(){return this._isBrandzone()?this._isRetail()||this.elements.push(p("brand_zone")):this.elements.push("Allegro"),this}build(){return this._capitalizeFirstLetter(this.elements.join(" - "))}},f=class extends c{withPrefix(){return this.props.phrase?this.elements.push(this.props.phrase):this.elements.push(p("check_offers")),this}withUserAndCategory(){return this._isRetail()?(this.elements.push(" "+p("in_official_allegro_shop")),this.withCategoryPrefixedBy(` ${p("in_category")} `)):this._isBrandzone()?(this.elements.push(` ${p("in_shop")} ${this.props.userData.brandzone.fullName}`),this.withCategoryPrefixedBy(` ${p("in_category")} `),this.elements.push(" "+p("in_brand_zone"))):this.props.phrase?(this.elements.push(` ${p("in_user_offers")} ${this.props.userData.login}`),this.withCategoryPrefixedBy(` ${p("in_category")} `),this.elements.push(" "+p("on_allegro"))):(this.elements.push(` ${p("of_user")} ${this.props.userData.login}`),this.withCategoryPrefixedBy(` ${p("in_category")} `),this.elements.push(" "+p("on_allegro"))),this}withSuffix(){return this._isRetail()?this.elements.push(". "+p("safe_shopping_suffix")):this._isBrandzone()?this.elements.push("."+p("brand_products_suffix")):this.elements.push(". "+p("discover_joy_of_purchase_suffix")),this}build(){return this._capitalizeFirstLetter(this.elements.join(""))}},m=["pl-PL","en-US","cs-CZ"];window.opbox.component.init({prototypeName:"allegro.listing.seo"},(({domNodes:e})=>{e.forEach((e=>{const t=e.getAttribute("data-box-name");window.opbox.onData(t,(e=>{(e=>{const t=(e=>{const{listingType:t}=e;return((e,t)=>{const r=e.requestUrl||"",{removeCanonical:i}=e,a={title:p("default_title"),description:p("default_description"),canonical:new h.a(r).buildCanonical(),androidLink:new h.a(r).buildAndroidDeepLink()};return e.seoServiceData&&"regular"===t?(e.seoServiceData.metaTitle&&(a.title=e.seoServiceData.metaTitle),e.seoServiceData.metaDescription&&(a.description=e.seoServiceData.metaDescription),e.seoServiceData.canonical&&(a.canonical=e.seoServiceData.canonical),e.seoServiceData.androidLink&&!i&&(a.androidLink=e.seoServiceData.androidLink)):"user"===t?(a.title=e.seoServiceData&&e.seoServiceData.metaTitle?e.seoServiceData.metaTitle:(e=>{if(!m.includes(l)){var t;const r=null==(t=e.categoryData)?void 0:t.name,i=e.userData.login;return r?p("default_user_category_title",{categoryName:r,userName:i}):p("default_user_title",{userName:i})}return new d(e).withPhrase().withUser().withCategoryPrefixedBy("").withPagePrefixedBy("").withService().build()})(e),a.description=e.seoServiceData&&e.seoServiceData.metaDescription?e.seoServiceData.metaDescription:(e=>{if(!m.includes(l)){var t;const r=null==(t=e.categoryData)?void 0:t.name,i=e.userData.login;return r?p("default_user_category_description",{categoryName:r,userName:i}):p("default_user_description",{userName:i})}return new f(e).withPrefix().withUserAndCategory().withPagePrefixedBy(" - ").withSuffix().build()})(e),a.androidLink=(e=>{const t=new h.a(e.requestUrl).addFilter("us_id",e.userData.id);return e.categoryData&&t.addFilter("id",e.categoryData.id),t.buildAndroidDeepLink()})(e)):"promoted"===t&&(a.title=(e=>{if(!m.includes(l)){const t=e.categoryData.name;return p("default_promoted_title",{categoryName:t})}return new d(e).withCustomPrefix(p("promoted_offers")).withCategoryPrefixedBy("").withPagePrefixedBy("").withCustomSuffix(p("allegro_more_than_auctions_suffix")).build()})(e),a.description=(e=>{if(!m.includes(l)){const t=e.categoryData.name;return p("default_promoted_description",{categoryName:t})}return new f(e).withCustomPrefix(p("promoted_offers")).withCategoryPrefixedBy(" - ").withPagePrefixedBy(" - ").withCustomSuffix(" - "+p("best_offers_at_an_attractive_price_suffix")).build()})(e)),i&&(a.canonical=void 0),a})(e,t)})(e),{removeCanonical:r,requestUrl:i}=e,a=window.document.querySelector("head title");a&&(a.textContent=t.title);const s=window.document.querySelector("head meta[name=description]");s&&(s.content=t.description);const o=window.document.querySelector("head link[rel=canonical]");o&&(r?o.remove():o.href=t.canonical);const n=window.document.querySelector('head meta[property="og:url"]');n&&(n.content=r?i:t.canonical)})(e)}))}))}))})();
//# sourceMappingURL=index.es6-pl-PL_2bbdecb2.js.map