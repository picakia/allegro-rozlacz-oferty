var e,t,s=[(e,t,s)=>{s.d(t,{$:()=>ie,A:()=>q,B:()=>E,C:()=>L,D:()=>V,E:()=>N,F:()=>A,G:()=>C,H:()=>B,I:()=>F,J:()=>M,K:()=>I,L:()=>T,M:()=>P,N:()=>$,O:()=>U,P:()=>W,Q:()=>G,R:()=>H,S:()=>R,T:()=>K,U:()=>Q,V:()=>X,W:()=>Y,X:()=>J,Y:()=>Z,Z:()=>oe,_:()=>re,a:()=>i,ab:()=>le,b:()=>r,bb:()=>ae,c:()=>o,cb:()=>ne,d:()=>l,db:()=>me,e:()=>d,eb:()=>he,f:()=>n,fb:()=>ce,g:()=>a,gb:()=>de,h:()=>m,hb:()=>se,i:()=>b,ib:()=>te,j:()=>h,jb:()=>ee,k:()=>c,kb:()=>_e,l:()=>p,lb:()=>ve,m:()=>f,mb:()=>ye,n:()=>g,nb:()=>pe,o:()=>k,ob:()=>be,p:()=>u,pb:()=>ue,q:()=>v,qb:()=>fe,r:()=>_,rb:()=>ke,s:()=>y,sb:()=>ge,t:()=>w,tb:()=>we,u:()=>x,ub:()=>Se,v:()=>O,vb:()=>xe,w:()=>S,wb:()=>Oe,x:()=>D,xb:()=>ze,y:()=>z,yb:()=>je,z:()=>j,zb:()=>De});const i="m0qj_5r",r="mrmn_qo",o="mrhf_u8",n="msbw_rf",a="mldj_rf",l="mtag_rf",d="mm2b_rf",c="m911_5r",h="mefy_5r",m="mnyp_5r",b="mdwl_5r",p="mjyo_6x",u="m0s5_fg",_="mgmw_wo",v="mgmw_pt",y="mgmw_9u",f="msts_pt",k="msts_9u",g="msts_n7",w="mqen_m6",S="mpof_5r",x="mpof_ki",O="mpof_vs",z="m389_6m",j="m7f5_6m",D="myre_zn",q="mt1t_6n",E="mli2_0",L="mp0t_0a",A="mgn2_21",N="mgn2_14",V="mgn2_12",B="m9qz_yo",C="m9qz_yp",I="mse2_40",M="mse2_24",F="m09p_56",T="mqvr_2",P="mqu1_ae",R="mp4t_0",W="mryx_16",U="mryx_8",$="mryx_0",G="munh_0",H="m3h2_0",J="m2ha_2",X="mjt1_n2",K="m8qd_ie",Q="m8qd_vz",Y="mjir_sv",Z="meqh_en",ee="mg9e_24",te="mg9e_4",se="mg9e_0",ie="mj7a_24",re="mj7a_4",oe="mj7a_0",ne="mh36_16",ae="mh36_4",le="mh36_0",de="mvrt_16",ce="mvrt_8",he="mvrt_4",me="mvrt_0",be="mp7g_oz",pe="mp7g_f6",ue="mp7g_oh",_e="mqm6_0",ve="mj7u_0",ye="mnjl_0",fe="mzmg_6m",ke="mj9z_5r",ge="mhd5_0m",we="mli8_k4",Se="mtsp_ib",xe="m0ux_fp",Oe="m31c_kb",ze="mupj_5k",je="msa3_z4",De="m7er_k4"},,(e,t,s)=>{s.d(t,{a:()=>r,b:()=>o,c:()=>n,d:()=>i});const i="flexibleBanner",r="allegro.ads.flexibleBanner",o="showDSSItems",n="allegro.ads.dss.flexibleBanner.dsaIcon"},,(e,t,s)=>{s.d(t,{a:()=>d,b:()=>c,c:()=>l,d:()=>r,e:()=>o,f:()=>h,g:()=>m,h:()=>_,i:()=>u,j:()=>a,k:()=>n,l:()=>p,m:()=>b});var i=s(0);const r=i.zb+" _24531_NBgET",o=i.rb+" "+i.pb,n="_24531_GVX6i",a="_24531_6ruyF",l=i.zb+" _24531_ul5q7",d=i.m+" "+i.l+" "+i.q+" "+i.u+" "+i.x+" "+i.y+" "+i.gb+" "+i.cb+" "+i.jb+" "+i.$,c=i.z,h=i.u+" "+i.z+" "+i.x,m=i.o+" "+i.P+" _24531_-T0I-",b=i.m+" "+i.r+" "+i.qb+" "+i.F+" "+i.H+" "+i.O,p=i.m+" "+i.r+" "+i.E+" "+i.qb+" "+i.C+" "+i.G+" _24531_SsS7w",u="_24531_Merx-",_=i.ob}],i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return s[e](o,o.exports,r),o.exports}r.m=s,r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>"view.es6-pl-PL_"+r.h().slice(0,8)+".js",r.h=()=>"a1240d90",r.o=(e,t)=>({}.hasOwnProperty.call(e,t)),e={},t="@allegro/opbox-ads-dss-flexiblebanner:",r.l=(s,i,o,n)=>{if(e[s])e[s].push(i);else{var a,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==s||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(l=!0,(a=document.createElement("script")).type="module",a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+o),a.src=s,0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous")),e[s]=[i];var m=(t,i)=>{a.onerror=a.onload=null,clearTimeout(b);var r=e[s];if(delete e[s],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(i))),t)return t(i)},b=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),l&&document.head.appendChild(a)}},r.p="https://assets.allegrostatic.com/sc-23095/",(()=>{var e={57:0};r.f.j=(t,s)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var o=new Promise(((s,r)=>i=e[t]=[s,r]));s.push(i[2]=o);var n=r.p+r.u(t),a=Error();r.l(n,(s=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",a.name="ChunkLoadError",a.type=o,a.request=n,i[1](a)}}),"chunk-"+t,t)}};var t=(t,s)=>{var i,o,[n,a,l]=s,d=0;if(n.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);l&&l(r)}for(t&&t(s);d<n.length;d++)o=n[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},s=self.webpackJsonp_a3e7b=self.webpackJsonp_a3e7b||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var o={};(()=>{r.d(o,{a:()=>i});class e{constructor(e,t,s){this.parentNode=void 0,this.bodyNode=void 0,this.sticky=!1,this.footerVisible=!1,this.resizeObserverSupported=void 0,this.viewportDesktop=void 0,this.resizeObserver=null,this.footerObserver=null,this.scheduledFrame=null,this.handleStickiness=()=>{const e=this.parentNode.getBoundingClientRect().y-61;e<=0&&!this.sticky&&!this.footerVisible?this.setSticky():(e>0||this.footerVisible)&&this.sticky&&this.unsetSticky(),this.scheduledFrame=null},this.handleWindowScroll=()=>{this.scheduledFrame||(this.scheduledFrame=window.requestAnimationFrame(this.handleStickiness))},this.handleFooterVisibilityInViewport=e=>{e.forEach((e=>{e.isIntersecting?(this.footerVisible=!0,this.unsetStickyStyles()):(this.footerVisible=!1,this.sticky&&this.setStickyStyles())}))},this.handleWindowResize=e=>{e.forEach((e=>{e.contentRect.width<1024&&this.sticky&&(this.unsetSticky(),this.disconnectObservers())}))},this.node=e,this.footerNode=t,this.classList=s,this.bodyNode=document.body,this.parentNode=this.node.parentElement,this.resizeObserverSupported="ResizeObserver"in window,this.viewportDesktop=document.documentElement.clientWidth>=1024}initialize(){this.viewportDesktop&&this.resizeObserverSupported&&this.registerObservers()}setSticky(){this.setStickyStyles(),this.sticky=!0}unsetSticky(){this.unsetStickyStyles(),this.sticky=!1}registerObservers(){this.resizeObserver=new ResizeObserver(this.handleWindowResize),this.footerObserver=new IntersectionObserver(this.handleFooterVisibilityInViewport)}connectObservers(){var e,t;null==(e=this.resizeObserver)||e.observe(this.bodyNode),null==(t=this.footerObserver)||t.observe(this.footerNode),window.addEventListener("scroll",this.handleWindowScroll)}disconnectObservers(){var e,t;null==(e=this.resizeObserver)||e.disconnect(),null==(t=this.footerObserver)||t.disconnect(),window.removeEventListener("scroll",this.handleWindowScroll)}setStickyStyles(){this.node.classList.add(...this.classList)}unsetStickyStyles(){this.node.classList.remove(...this.classList)}}var t=r(2),s=r(4);class i{constructor({baseNode:i,props:o}){var n=this;this.baseNode=void 0,this.props=void 0,this.stickyBehaviour=null,this.disconnectDSAListeners=null,this.handleDSAInfoClick=e=>{e.preventDefault();const{dsaId:t}=this.props;t&&window.opbox.plugin.get("xd").then((({showModal:e})=>e([t]))).catch((e=>{window.opbox.reportError(e)}))},this.applyUpdates=async()=>{try{const{renderVerticalView:e}=await r.e(552).then(r.bind(r,3));n.baseNode.insertAdjacentHTML("beforeend",e(n.props))}catch(e){window.opbox.reportError(Error("Cannot load view template to make component updates."))}n.disconnectDSAListeners=n.connectDSAListeners()},this.initializeStickyBehaviour=t=>{if("horizontal-large"===this.props.visualVariant)return;const i=document.querySelector('.site-footer,[data-box-name="metrum-footer-partial"],[data-box-name="layout.container.footer"]');i?(this.stickyBehaviour=new e(t,i,[s.i,s.h]),this.stickyBehaviour.initialize()):window.opbox.reportError(Error("Couldn't find the footer. It does not exist on page or selector has changed."))},this.sendVisibilityMarkers=()=>{const e=this.getContainer();e&&setTimeout((()=>{window.opbox.boxViewsMarker.markBoxAsVisible(e)}),0)},this.getContainer=()=>this.baseNode.querySelector(`[data-box-name="${t.d}"]`),this.getDSAIcon=()=>this.baseNode.querySelector(`[data-box-name="${t.c}"]`),this.baseNode=i,this.props=o;const a=this.getContainer();a&&this.initializeStickyBehaviour(a)}onMount(){var e;null==(e=this.stickyBehaviour)||e.connectObservers(),this.sendVisibilityMarkers(),this.disconnectDSAListeners=this.connectDSAListeners()}onUnmount(){var e,t,s;null==(e=this.stickyBehaviour)||e.unsetSticky(),null==(t=this.stickyBehaviour)||t.disconnectObservers(),null==(s=this.disconnectDSAListeners)||s.call(this)}beforeOnUpdate(){var e;null==(e=this.stickyBehaviour)||e.unsetSticky()}onUpdate(e){var t;const s=this.getContainer();if(!s)return;if("horizontal-large"===e.visualVariant)return;const i=(({parameters:e,context:{isDarkModeSupported:t}})=>{const{emissionTimestamp:s}=e;return Object.assign(Object.assign({},e),{},{emissionTimestamp:parseInt(s||"-1",10),isDarkModeSupported:t})})({parameters:e,context:{isDarkModeSupported:this.props.isDarkModeSupported}});this.props=Object.assign(Object.assign({},this.props),i),null==(t=this.disconnectDSAListeners)||t.call(this),this.baseNode.removeChild(s),e.details&&this.applyUpdates()}connectDSAListeners(){const e=this.getDSAIcon();return e?(e.addEventListener("click",this.handleDSAInfoClick,{capture:!0}),()=>e.removeEventListener("click",this.handleDSAInfoClick)):null}}window.opbox.component.register({prototypeName:"allegro.ads.dss.flexibleBanner",clientImplementationVersion:"51d"},i)})();var n=o.a;export{n as Component};
//# sourceMappingURL=index.es6-pl-PL_a1240d90.js.map