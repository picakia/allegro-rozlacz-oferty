/*! For license information please see index-pl-PL_79d18d3b.js.LICENSE.txt */
!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t);var n={};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return e+""}(r.key),"symbol"===o(i)?i:i+""),r)}var i}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function f(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new S(o||[]);return r(a,"_invoke",{value:j(e,n,s)}),a}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var d={};function h(){}function g(){}function p(){}var v={};l(v,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(A([])));_&&_!==t&&n.call(_,a)&&(v=_);var b=p.prototype=h.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,s,c){var u=m(e[r],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,c)}),(function(e){i("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,c)}))}c(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=m(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=m(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return g.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:g,configurable:!0}),g.displayName=l(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new x(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}e.r(n),e.d(n,{arrowIcon:function(){return Ce},emptyText:function(){return fe},errorText:function(){return he},guestContentWrapper:function(){return ge},guestText:function(){return de},guestTextPrimary:function(){return me},inbox:function(){return oe},inboxLoginButton:function(){return ie},message:function(){return se},messageClicked:function(){return we},messageDisplayed:function(){return _e},messageGroup:function(){return ze},messageGroupContent:function(){return Be},messageGroupContentInvisible:function(){return Ge},messageGroupContentVisible:function(){return $e},messageGroupHeader:function(){return Ne},messageGroupToggle:function(){return Pe},messageGroupToggleOpen:function(){return Ie},messageIcon:function(){return xe},messageLink:function(){return ce},messageMenuAction:function(){return De},messageMenuActionLink:function(){return qe},messageMenuActions:function(){return Te},messageMenuDropdown:function(){return Le},messageMenuDropdownContent:function(){return Oe},messageMenuDropdownContentContainer:function(){return Ae},messageMenuDropdownOpen:function(){return Me},messageMenuDropdownToggle:function(){return Ee},messageMenuDropdownToggleActive:function(){return Se},messageNew:function(){return be},messageText:function(){return le},messageTime:function(){return je},messages:function(){return ae},registerButton:function(){return pe},right9px:function(){return ke},spinner:function(){return ye},spinnerWrapper:function(){return ve},text:function(){return ue}});var l="m0qj_5r",f="m911_5r",m="mefy_5r",d="mnyp_5r",h="mdwl_5r",g="mjyo_6x",p="mgmw_3z",v="mgmw_wo",y="msts_pt",_="msts_n7",b="mqen_m6",w="mpof_5r",x="mpof_ki",j="mpof_z0",k="m389_6m",L="mx4z_5x",E="mp0t_0a",S="mgn2_14",A="mse2_40",O="mqu1_21",M="mp4t_16",T="mp4t_0",D="mryx_16",q="mryx_0",z="munh_0",N="m3h2_0",P="meqh_en",C="mg9e_24",I="mg9e_0",G="mj7a_24",B="mj7a_0",$="mh36_16",R="mh36_0",U="mvrt_16",F="mvrt_0",V="mp7g_f6",Y="mp7g_oh",Z="mzmg_6m",H="mj9z_5r",W="mhd5_0m",J="mli8_k4",K="mtsp_ib",Q="m9vn_d2",X="msa3_z4",ee="m7er_k4",te="l1fas",ne="l1v1s",re="i1vy1",oe=j+" "+ee+" _51ce4_VTLZD",ie=S+" "+E+" m9qz_yp "+Y+" "+A+" mqu1_40 "+K+" "+J+" "+N+" "+z+" "+f+" "+m+" "+d+" "+h+" msbw_2 mldj_2 mtag_2 mm2b_2 mqvr_2 "+X+" "+b+" "+P+" "+l+" "+$+" "+U+" "+I+" "+B+" mjir_sv m2ha_2 m8qd_qh mjt1_n2 bhsw2 mgmw_9u msts_enp mrmn_qo mrhf_u8 m31c_kb m0ux_fp b1rxz "+M+" "+D+" mpof_vs mupj_5k "+g+" mjru_k4 _51ce4_rbfkL",ae=L+" mr3m_1 "+ee+" "+T+" "+N+" "+q+" "+z+" "+I+" "+F+" "+B+" "+R+" mdwt_56 _51ce4_A7Bbf",se=Y+" "+j+" "+T+" "+N+" "+q+" "+z+" "+I+" "+F+" "+B+" "+R+" "+y+" _51ce4_5vNw-",ce=x+" mli2_1 "+H+" m7f5_5x m389_5x _51ce4_FwY5J",ue=S+" "+E+" "+O+" "+v+" "+J+" "+T+" "+N+" "+q+" "+z+" _51ce4_uA5pp",le=S+" "+E+" "+O+" "+v+" "+J+" "+T+" "+N+" "+q+" "+z+" _51ce4_1UBeA",fe=Z+" "+p+" "+C+" "+G,me=v+" "+J+" mp0t_ji m9qz_yo "+z+" "+N+" mqu1_1j mgn2_16 mgn2_17_s "+M+" "+D,de=p,he="m7er_56 msts_4u "+L+" mg9e_16 "+U+" mj7a_16 "+$+" "+M,ge=Z+" "+C+" "+G,pe=S+" "+E+" "+v+" "+O+" "+H+" "+J+" "+b+" "+te,ve=x+" m7f5_6m "+k+" mse2_k4",ye=j+" "+P+" "+A+" mg9e_4 mvrt_4 mj7a_4 mh36_4 "+g+" m7er_40 kbcjb mp4t_24 m3h2_24 mryx_24 munh_24",_e="_51ce4_iW3Pk",be="_51ce4_N3Ssy",we="_51ce4_46Ng4",xe=A+" "+g+" "+P+" "+X+" "+W+" "+re+" "+I+" "+F+" "+B+" "+R+" mli2_0 _51ce4_ADzjt",je="mp4t_4 "+p+" "+E+" mgn2_12 mqu1_16 "+J+" "+x+" "+k+" _51ce4_drqyY",ke="_51ce4_PhQlk",Le=V+" "+b+" m9tr_5r "+ke+" _51ce4_NA571",Ee=S+" "+E+" "+v+" "+O+" "+H+" "+J+" "+b+" "+te+" "+I+" "+F+" "+B+" "+R+" "+f+" "+m+" "+d+" "+h+" "+X+" "+l+" "+_+" "+ne+" "+Q+" m9vn_gl_m _51ce4_7wADt",Se=Q,Ae=Y,Oe=V+" "+w+" "+g+" mjb5_w6 "+I+" "+F+" "+B+" "+R+" "+y+" mx7m_1 m911_co mefy_co mnyp_co mdwl_co mlkp_ag mnjl_0 _51ce4_Gw4oG",Me="_51ce4_ndoSo",Te=E+" "+S+" "+O+" "+v+" "+J+" mb54_5r "+ee+" "+Z+" "+$+" "+U+" _51ce4_JSMVe",De=q,qe=S+" "+E+" "+v+" "+O+" "+H+" "+J+" "+b+" "+te+" "+I+" "+F+" "+B+" "+R+" "+f+" "+m+" "+d+" "+h+" "+X+" "+l+" "+_+" "+ne+" "+K,ze="_51ce4_YfXa-",Ne=Y+" _51ce4_t-4FR",Pe=V+" "+b+" "+ke+" _51ce4_ejYvH",Ce=g+" "+P+" "+X+" "+W+" "+re+" "+I+" "+F+" "+B+" "+R+" mse2_24 _51ce4_qZe6-",Ie="_51ce4_7T2YN",Ge=w,Be=w+" msts_r0 _51ce4_rlizB",$e=j;function Re(e){if(Array.isArray(e))return e}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ye(e,t){return Re(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||Fe(e,t)||Ve()}function Ze(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var He={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;"},We=/<|>|&|"|'/g,Je=/"|'/g,Ke=RegExp(Array.from("javascript:",(function(e){return"".concat(e).concat("[\\n\\r\\t]*")})).join(""),"ig"),Qe=function(e){return He[e]},Xe=function(e){return e.replace(Je,Qe).replace(Ke,"")},et=function(){function e(t,n){r(this,e),this.$=t[0];for(var o=0;o<n.length;o++){var i=n[o];if(Array.isArray(i))for(var a=0;a<i.length;a++)this.$esc(i[a]);else this.$esc(i);this.$+=t[o+1]}}return a(e,[{key:"$esc",value:function(t){this.$+=t instanceof e?t.$:(t+"").replace(We,Qe)}},{key:"toString",value:function(){return this.$}}]),e}(),tt=function(e){return new et([e+""],[])},nt=function(e){return new et([Xe(e+"")],[])},rt=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new et(e,n)},ot="pl-PL",it={"pl-PL":{delete:[["",["Usuń wiadomość"]]],"delete-thread":[["",["Usuń cały wątek"]]],"more-than-month":[["",["ponad miesiąc temu"]]],day:[["",["{{days}} dzień temu","{{days}} dni temu","{{days}} dni temu"]]],"hour-short":[["",["{{hours}} godz. temu","{{hours}} godz. temu","{{hours}} godz. temu"]]],"minute-short":[["",["{{minutes}} min. temu","{{minutes}} min. temu","{{minutes}} min. temu"]]],sent:[["",["Wysłane"]]],category:[["",["Kategoria"]]],"expand-thread":[["",["Rozwiń wątek"]]],"expand-menu":[["",["Rozwiń menu"]]],"manage-message":[["",["Zarządzaj tą wiadomością"]]],"loading-messages-failed":[["",["Nie mogliśmy wyświetlić Twoich powiadomień."]]],login:[["",["Zaloguj się"]]],register:[["",["Zarejestruj się"]]],"log-in-heading":[["",["Zaloguj się i bądź na bieżąco"]]],"log-in-to-show-messages":[["",["Tutaj znajdziesz powiadomienia o okazjach <br/>i informacje związane z Twoimi działaniami <br/>na koncie Allegro."]]],"dont-have-account":[["",["Nie masz konta?"]]],"no-new-messages":[["",["Nie masz żadnych <br>nowych powiadomień."]]],"show-messages":[["",["Pokaż wiadomości"]]],"offer-image":[["",["Zdjęcie oferty"]]]}},at=/({{[^}]+}}|{%[^%}]+%})/g,st=/({{[^}]+}})/g,ct=/({%[^%}]+%})/g,ut=/({{\s*|\s*}}|{%\s*|\s*%})/g,lt={"pl-PL":function(e){return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}};function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("string"==typeof e)throw Error("Translation has to be an array");return e.find((function(e){return e[0]===t}))[1]}var mt,dt,ht,gt,pt,vt,yt,_t,bt,wt,xt,jt,kt,Lt=function(e,t,n){var r=it[ot][e];if(!r)throw Error('Missing translation for lang "pl-PL" and key "'.concat(e,'"'));return t?function(e,t,n){var r=ft(e,t.context);return r=parseInt(t.count,10)>=0?function(e,t){var n=lt[ot](t);return"boolean"!=typeof n?e[n]:e[n?1:0]}(r,t.count):Ye(r,1)[0],function(e,t,n){if(n){var r=0;return e.split(at).map((function(n){if(n.match(ct)){var o=t.formatters[r];if(o)return r+=1,o(n.replace(ut,""));throw Error('Missing translation formatter for "'.concat(e,'"'))}return n.match(st)?t[n.replace(ut,"")]:n}))}var o=e.match(at),i=0;return o?o.reduce((function(n,r){var o=r.replace(ut,"");if(r.match(ct)){var a=t.formatters[i];if(a)return i+=1,n.replace(r,a(o));throw Error('Missing translation formatter for "'.concat(e,'"'))}return r.match(st)?n.replace(r,t[o]):n}),e):e}(r,t,n)}(r,t,n):ft(r)[0]},Et=(mt=Object.assign({},n),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return mt[e]||e})).join(" ")}),St=(kt=new Date,function(e){return function(e){if(e>=2592e3)return Lt("more-than-month");if(e>=86400){var t=Math.floor(e/86400);return Lt("day",{days:t,count:t})}if(e>=3600){var n=Math.floor(e/3600);return Lt("hour-short",{hours:n,count:n})}var r=Math.max(1,Math.floor(e/60));return Lt("minute-short",{minutes:r,count:r})}(Math.floor((kt.getTime()-e.getTime())/1e3))}),At="group_";function Ot(e){var t=e.svg,n=e.className,r=void 0===n?xe:n,o=e.alt,i=void 0===o?Lt("category"):o,a=e.width,s=void 0===a?"100%":a,c=e.height,u=void 0===c?"100%":c;return rt(ht||(ht=Ze(['<img class="','" src="','" alt="','" width="','" height="','" />'])),r,t,i,s,u)}var Mt=Ot({className:Ce,svg:"https://a.allegroimg.com/original/3424ea/a70a9cfd4ee59ddb6d4fc30364c7/action-common-arrowhead-c3c511fba9",alt:Lt("expand-thread")}),Tt=Ot({className:Ce,svg:"https://a.allegroimg.com/original/345306/13b7a0e047fd8735a283a540f5e7/action-common-three-dots-8d6d31cbb0",alt:Lt("expand-menu")}),Dt=Ot({className:"",svg:"https://a.allegroimg.com/original/1814f0/f889a32345a58172222bef9df297.svg",alt:Lt("log-in-heading"),width:"112",height:"112"});function qt(e){var t=e.text,n=e.image.svg,r=e.status,o=e.createdAt,i=e.tinkerbellId,a=e.groupId,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=Et("message","message".concat(r.charAt(0)+r.slice(1).toLowerCase()));return rt(yt||(yt=Ze(['<li class="','" data-role="message">'," ","</li>"])),c,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return rt(pt||(pt=Ze(['<div class="','" data-role="message-actions-dropdown"><button type="button" data-role="message-dropdown" aria-label="','" class="','">','</button><div class="','"><div class="','">',"</div></div></div>"])),Le,Lt("manage-message"),Ee,Tt,Ae,Oe,function(e,t,n){var r=Ye(e?["action-delete-group",Lt("delete-thread"),t]:["action-delete",Lt("delete"),n],3),o=r[0],i=r[1],a=r[2];return rt(gt||(gt=Ze(['<ul class="','"><li class="','"><button type="button" class="','" data-role="','" data-id-to-delete="','">',"</button></li></ul>"])),Te,De,qe,o,a,i)}(t,n,e))}(i,s,a),function(e,t,n,r){var o="".concat("/inbox/redirect/id/").concat(t);return rt(vt||(vt=Ze(['<a data-role="message-link" href="','" class="','" data-analytics-clickable data-analytics-click-value="','">','<span><span class="','">',"</span>","</span></a>"])),o,ce,n,Ot({svg:r}),le,n,tt(function(e){var t=new Date(e),n=t.toLocaleDateString(),r=St(t);return rt(dt||(dt=Ze(['<time class="','" datetime="','" aria-label="'," ",'">',"</time>"])),je,n,Lt("sent"),r,r)}(e)))}(o,i,t,n))}var zt=function(e){return qt(e,!1)},Nt=function(e){return qt(e,!0)};function Pt(e){if(1===e.length)return zt(e[0]);var t,n=Re(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Fe(t)||Ve(),r=n[0],o=n.slice(1),i=Nt(r),a=o.map(zt).join(""),s=rt(_t||(_t=Ze(['<div class="','" data-role="message-group-toggle">',"</div>"])),Pe,Mt);return rt(bt||(bt=Ze(['<li class="','"><ol class="','">'," ",'</ol><ol data-role="message-group-content" class="','">',"</ol></li>"])),ze,Ne,tt(i),tt(s),Be,tt(a))}function Ct(e){return"".concat(At).concat(e)}function It(e){var t=e.className,n=void 0===t?de:t,r=e.content;return rt(xt||(xt=Ze(['<p class="'," ",'">',"</p>"])),n,ue,tt(r))}function Gt(){var e=Lt("no-new-messages");return It({className:fe,content:e})}function Bt(e){var t=e.loginUrl,n=e.registerUrl;return rt(jt||(jt=Ze(['<div class="','">','<p class="','">',"</p>",'<a href="','" class="','" rel="nofollow" data-role="login-button">',"</a>","</div>"])),ge,Dt,me,Lt("log-in-heading"),It({content:Lt("log-in-to-show-messages")}),nt(t),ie,Lt("login"),It({content:"".concat(Lt("dont-have-account"),' <a href="').concat(nt(n),'" class="').concat(pe,'" rel="nofollow" data-analytics-clickable data-role="register-button">').concat(Lt("register"),"</a>")}))}function $t(e){var t=e.messages;return t.length>0?function(e){var t=function(e){var t=e.reduce((function(e,t){var n=e,r=t.groupId||t.tinkerbellId;return(n[Ct(r)]||(n[Ct(r)]=[])).push(t),n}),{});return Object.values(t)}(e).map(Pt).join("");return rt(wt||(wt=Ze(['<ul class="','" data-role="message-list">',"</ul>"])),ae,tt(t))}(t):Gt()}var Rt="click",Ut=function(){function e(t,n){r(this,e),this.loginButton=void 0,this.registerButton=void 0,this.path=void 0,this.loginButton=t.querySelector('[data-role="login-button"]'),this.registerButton=t.querySelector('[data-role="register-button"]'),this.path=n}return a(e,[{key:"mount",value:function(){this.loginButton&&this.loginButton.addEventListener(Rt,this),this.registerButton&&this.registerButton.addEventListener(Rt,this)}},{key:"handleEvent",value:function(e){e.type===Rt&&function(e,t){e.preventDefault();var n=e.target;window.location.href=function(e,t){var n=t||"/";return"".concat(e,"?origin_url=").concat(encodeURIComponent("".concat(n)))}(n.getAttribute("href"),t)}(e,this.path)}}]),e}(),Ft="inViewport",Vt='button[data-role="message-dropdown"]',Yt='[data-role="message-actions-dropdown"]',Zt='[data-role="message-group-content"]',Ht='[data-role="message-group-toggle"]',Wt='[data-role="message"]',Jt=".".concat(ze),Kt=function(){function e(t,n,o,i,a){var c=this;r(this,e),this.content=void 0,this.loadData=u(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.api.getMessages();case 2:return t=e.sent,n=$t(t.data),e.abrupt("return",{messages:t,content:n});case 5:case"end":return e.stop()}}),e)}))),this.onOpen=function(){c.root.removeEventListener(Ft,c.onOpen),c.loadData().then(c.onResponse).catch(c.onError)},this.onResponse=function(e){var t=e.messages.data,n=e.content;c.setContent(n),c.setupListeners(),c.attachAnalytics(),c.handleDisplayed(t)},this.onError=function(e){var t=401===e.status?Bt(c.props):function(){var e=Lt("loading-messages-failed");return It({className:he,content:e})}();c.setContent(t)},this.setContent=function(e){c.content.innerHTML=e},this.handleDisplayed=function(e){var t=e.messages;c.services&&c.services.get("opbox-notification-service").then((function(e){e.reset("inboxes")}));var n=t.filter((function(e){return"CLICKED"!==e.status}));n.length>0&&c.api.updateStatusToDisplayed(n.map((function(e){return e.tinkerbellId})))},this.setupListeners=function(){c.root.querySelectorAll(Ht).forEach((function(e){return e.addEventListener("click",c.toggleGroupVisibility)})),c.root.querySelectorAll(Vt).forEach((function(e){return e.addEventListener("click",c.toggleDeleteMessageDropdown)})),c.root.querySelectorAll('[data-role="action-delete"]').forEach((function(e){return e.addEventListener("click",c.singleMessageDeleteListener(e.dataset.idToDelete))})),c.root.querySelectorAll('[data-role="action-delete-group"]').forEach((function(e){return e.addEventListener("click",c.groupMessageDeleteListener(e.dataset.idToDelete))}))},this.toggleDeleteMessageDropdown=function(e){e.preventDefault();var t=e.currentTarget.parentElement.parentElement.querySelector(Yt),n=t.classList.contains(Me);c.root.querySelectorAll(Yt).forEach(c.hideActionsDropdown),n||(t.classList.add(Me),t.querySelector(Vt).classList.add(Se))},this.toggleGroupVisibility=function(e){e.preventDefault();var t=e.currentTarget,n=t.parentElement;if(n){t.classList.toggle(Ie);var r=n.parentElement.querySelector(Zt);r.classList.toggle($e),r.classList.toggle(Ge)}},this.window=t,this.api=n,this.root=o,this.services=i,this.props=a,this.window=t,this.api=n,this.root=o,this.content=o.querySelector('[data-role="inbox"]'),this.services=i,this.props=a}return a(e,[{key:"mount",value:function(){var e=this.props,t=e.isAuthenticated,n=e.isAnonymised,r=null!==function(e){for(var t=document.cookie.split(/;\s*/),n=t.length-1;n>=0;n-=1){var r=Ye(t[n].split("=").map((function(e){return decodeURIComponent(e)})),2),o=r[0],i=r[1];if("userIdentity"===o)return i}return null}();t||n&&r?this.root.addEventListener(Ft,this.onOpen):(this.setContent(Bt(this.props)),new Ut(this.root,this.window.location).mount())}},{key:"groupMessageDeleteListener",value:function(e){var t=this;return function(n){n.stopPropagation(),t.api.deleteGroup(e),t.deleteMessageListItem(n.target.closest(Jt)),t.window.opbox.analytics.sendClickEvent({contextNode:t.root,label:"deleteMessageGroup",value:e})}}},{key:"deleteMessageListItem",value:function(e){e.remove(),this.root.querySelectorAll(Wt).length||(this.content.innerHTML=Gt())}},{key:"singleMessageDeleteListener",value:function(e){var t=this;return function(n){n.stopPropagation(),t.api.delete(e),t.deleteSingleMessage(n.target.closest(Wt)),t.window.opbox.analytics.sendClickEvent({contextNode:t.root,label:"deleteSingleMessage",value:e})}}},{key:"deleteSingleMessage",value:function(e){var t=e.parentNode,n=t.matches(Zt),r=1===t.childElementCount;n&&r&&this.removeGroupToggleControls(t),this.deleteMessageListItem(e)}},{key:"removeGroupToggleControls",value:function(e){var t=e.parentNode.querySelector(Ht);e.remove(),t.remove()}},{key:"hideActionsDropdown",value:function(e){e.classList.remove(Me),e.querySelector(Vt).classList.remove(Se)}},{key:"attachAnalytics",value:function(){var e=this,t=this.root.querySelector('[data-role="inbox"]');this.root.querySelectorAll('[data-role="message"]').forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation(),e.window.opbox.analytics.sendClickEvent({contextNode:t.target,label:"notificationClicked"})}))})),t&&t.addEventListener("click",(function(e){e.stopPropagation()}))}}]),e}(),Qt="/inbox/messages",Xt={withCredentials:!0,headers:{Accept:"application/json","Content-type":"application/json"}},en=(Object.assign(Object.assign({},Xt),{},{headers:{Accept:"application/vnd.allegro.internal.v1+json","Content-type":"application/vnd.allegro.internal.v1+json"}}),Object.assign(Object.assign({},Xt),{},{headers:Object.assign(Object.assign({},Xt.headers),{},{"Content-type":"application/vnd.allegro.public.v2+json"})})),tn=function(){function e(t){r(this,e),this.edge=void 0;var n=t.opbox.edge;this.edge=n}return a(e,[{key:"getMessages",value:function(){return this.edge.get(Qt,Xt)}},{key:"updateStatusToDisplayed",value:function(e){var t={tinkerbellIdEvents:e.map((function(e){return{tinkerbellId:e}}))};this.edge.post("/inbox/events/displayed",t,en)}},{key:"delete",value:function(e){this.edge.delete("".concat(Qt,"/").concat(e),Xt)}},{key:"deleteGroup",value:function(e){this.edge.delete("".concat("/inbox/messages/group","/").concat(e),Xt)}}]),e}(),nn=function(){function e(t){var n=t.baseNode,o=t.services,i=t.props;r(this,e),this.inbox=void 0,this.inbox=new Kt(window,new tn(window),n,o,i)}return a(e,[{key:"onMount",value:function(){this.inbox.mount()}}]),e}();window.opbox.component.register({prototypeName:"allegro.user.inbox",clientImplementationVersion:"e07"},nn);var rn=window;for(var on in t)rn[on]=t[on];t.__esModule&&Object.defineProperty(rn,"__esModule",{value:!0})}();
//# sourceMappingURL=index-pl-PL_79d18d3b.js.map